{
    "hints": {
        "updateApplication(string)bool": {
            "call_config": {
                "update_application": "CALL"
            }
        },
        "sendOnlineKeyRegistration(byte[],byte[],byte[],uint64,uint64,uint64,uint64)byte[]": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "withdraw(address,uint256,uint64,bool)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "CreateGameWithNativeToken(pay,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "OptInToASA(pay,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "CreateGameWithASAToken(axfer,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "CreateGameWithArc200Token(uint64,uint256,uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "StartGameWithNativeToken(pay,(uint64,address),uint64)void": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "game": {
                    "name": "AddressAssetStruct",
                    "elements": [
                        [
                            "assetId",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ]
                    ]
                }
            }
        },
        "StartGameWithASAToken(axfer,(uint64,address),uint64)void": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "game": {
                    "name": "AddressAssetStruct",
                    "elements": [
                        [
                            "assetId",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ]
                    ]
                }
            }
        },
        "StartGameWithArc200Token(uint256,uint64,(uint64,address),uint64)void": {
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "game": {
                    "name": "AddressAssetStruct",
                    "elements": [
                        [
                            "assetId",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ]
                    ]
                }
            }
        },
        "Game(address,uint64)(uint256,uint64,bool,bool,bool,uint64,uint64,uint256,uint64,uint256,uint64,address)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "GameStruct",
                    "elements": [
                        [
                            "balance",
                            "uint256"
                        ],
                        [
                            "assetId",
                            "uint64"
                        ],
                        [
                            "isNativeToken",
                            "bool"
                        ],
                        [
                            "isASAToken",
                            "bool"
                        ],
                        [
                            "isArc200Token",
                            "bool"
                        ],
                        [
                            "lastPlayedTime",
                            "uint64"
                        ],
                        [
                            "lastWinTime",
                            "uint64"
                        ],
                        [
                            "lastWinAmount",
                            "uint256"
                        ],
                        [
                            "biggestWinTime",
                            "uint64"
                        ],
                        [
                            "biggestWinAmount",
                            "uint256"
                        ],
                        [
                            "winRatio",
                            "uint64"
                        ],
                        [
                            "owner",
                            "address"
                        ]
                    ]
                }
            }
        },
        "MyGame()(uint64,uint64,uint64,uint256,uint64,address,address)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "PlayStruct",
                    "elements": [
                        [
                            "state",
                            "uint64"
                        ],
                        [
                            "winProbability",
                            "uint64"
                        ],
                        [
                            "round",
                            "uint64"
                        ],
                        [
                            "deposit",
                            "uint256"
                        ],
                        [
                            "assetId",
                            "uint64"
                        ],
                        [
                            "gameCreator",
                            "address"
                        ],
                        [
                            "owner",
                            "address"
                        ]
                    ]
                }
            }
        },
        "ClaimGame()void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAzMiAxIDggMTAwMDAwMCAzMjEgMzIyIDMyMAogICAgYnl0ZWNibG9jayAweDAwIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCAweDAwMDAwMDAwMDAwMDAwMDAgImciICJkIiAweDY0MDAwMDAwMDAwMDAwMDAwMCAicCIgMHgxNTFmN2M3NSAweDgwICJ1c2VyIHdpdGhkcmF3YWwiIDB4ZGE3MDI1YjkgImFkbWluIHdpdGhkcmF3YWwiIDB4MDAwMDAwMDAwMDAwMDAwMSAweDBmNDI0MCAweDAwMDAwMDAwMDAwMDAwMDIgMHg0YTk2OGY4ZgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIGV4cG9ydCBjbGFzcyBBdm1TYXRvc2hpRGljZSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBOdW1BcHBBcmdzCiAgICBieiBtYWluX2JhcmVfcm91dGluZ0AxOAogICAgcHVzaGJ5dGVzcyAweDcwYTY1ZTg5IDB4YzYxZDU2ZjUgMHg1NGNjNjk2ZiAweDZiMDkwYmJlIDB4ZTM2ZTU3YmYgMHgxNzhjMWYzMyAweGEyNjQ5YTAwIDB4YzRiNWNmYjEgMHg2NjQ2ZWI0YSAweDI1NTM4NjNmIDB4NzUxZTBkNDcgMHgyYTIzNmUxOCAweDc2ZTAzZDk0IC8vIG1ldGhvZCAidXBkYXRlQXBwbGljYXRpb24oc3RyaW5nKWJvb2wiLCBtZXRob2QgInNlbmRPbmxpbmVLZXlSZWdpc3RyYXRpb24oYnl0ZVtdLGJ5dGVbXSxieXRlW10sdWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KWJ5dGVbXSIsIG1ldGhvZCAid2l0aGRyYXcoYWRkcmVzcyx1aW50MjU2LHVpbnQ2NCxib29sKXZvaWQiLCBtZXRob2QgIkNyZWF0ZUdhbWVXaXRoTmF0aXZlVG9rZW4ocGF5LHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJPcHRJblRvQVNBKHBheSx1aW50NjQpdm9pZCIsIG1ldGhvZCAiQ3JlYXRlR2FtZVdpdGhBU0FUb2tlbihheGZlcix1aW50NjQpdm9pZCIsIG1ldGhvZCAiQ3JlYXRlR2FtZVdpdGhBcmMyMDBUb2tlbih1aW50NjQsdWludDI1Nix1aW50NjQpdm9pZCIsIG1ldGhvZCAiU3RhcnRHYW1lV2l0aE5hdGl2ZVRva2VuKHBheSwodWludDY0LGFkZHJlc3MpLHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJTdGFydEdhbWVXaXRoQVNBVG9rZW4oYXhmZXIsKHVpbnQ2NCxhZGRyZXNzKSx1aW50NjQpdm9pZCIsIG1ldGhvZCAiU3RhcnRHYW1lV2l0aEFyYzIwMFRva2VuKHVpbnQyNTYsdWludDY0LCh1aW50NjQsYWRkcmVzcyksdWludDY0KXZvaWQiLCBtZXRob2QgIkdhbWUoYWRkcmVzcyx1aW50NjQpKHVpbnQyNTYsdWludDY0LGJvb2wsYm9vbCxib29sLHVpbnQ2NCx1aW50NjQsdWludDI1Nix1aW50NjQsdWludDI1Nix1aW50NjQsYWRkcmVzcykiLCBtZXRob2QgIk15R2FtZSgpKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQyNTYsdWludDY0LGFkZHJlc3MsYWRkcmVzcykiLCBtZXRob2QgIkNsYWltR2FtZSgpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG1haW5fdXBkYXRlQXBwbGljYXRpb25fcm91dGVAMyBtYWluX3NlbmRPbmxpbmVLZXlSZWdpc3RyYXRpb25fcm91dGVANCBtYWluX3dpdGhkcmF3X3JvdXRlQDUgbWFpbl9DcmVhdGVHYW1lV2l0aE5hdGl2ZVRva2VuX3JvdXRlQDYgbWFpbl9PcHRJblRvQVNBX3JvdXRlQDcgbWFpbl9DcmVhdGVHYW1lV2l0aEFTQVRva2VuX3JvdXRlQDggbWFpbl9DcmVhdGVHYW1lV2l0aEFyYzIwMFRva2VuX3JvdXRlQDkgbWFpbl9TdGFydEdhbWVXaXRoTmF0aXZlVG9rZW5fcm91dGVAMTAgbWFpbl9TdGFydEdhbWVXaXRoQVNBVG9rZW5fcm91dGVAMTEgbWFpbl9TdGFydEdhbWVXaXRoQXJjMjAwVG9rZW5fcm91dGVAMTIgbWFpbl9HYW1lX3JvdXRlQDEzIG1haW5fTXlHYW1lX3JvdXRlQDE0IG1haW5fQ2xhaW1HYW1lX3JvdXRlQDE1CgptYWluX2FmdGVyX2lmX2Vsc2VAMjI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MAogICAgLy8gZXhwb3J0IGNsYXNzIEF2bVNhdG9zaGlEaWNlIGV4dGVuZHMgQ29udHJhY3QgewogICAgaW50Y18wIC8vIDAKICAgIHJldHVybgoKbWFpbl9DbGFpbUdhbWVfcm91dGVAMTU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc1NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgY2FsbHN1YiBDbGFpbUdhbWUKICAgIGludGNfMiAvLyAxCiAgICByZXR1cm4KCm1haW5fTXlHYW1lX3JvdXRlQDE0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3NDIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGNhbGxzdWIgTXlHYW1lCiAgICBieXRlYyA3IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzIgLy8gMQogICAgcmV0dXJuCgptYWluX0dhbWVfcm91dGVAMTM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjcyOAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIGV4cG9ydCBjbGFzcyBBdm1TYXRvc2hpRGljZSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzI4CiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgY2FsbHN1YiBHYW1lCiAgICBieXRlYyA3IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzIgLy8gMQogICAgcmV0dXJuCgptYWluX1N0YXJ0R2FtZVdpdGhBcmMyMDBUb2tlbl9yb3V0ZUAxMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjYxCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MAogICAgLy8gZXhwb3J0IGNsYXNzIEF2bVNhdG9zaGlEaWNlIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2NjEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIFN0YXJ0R2FtZVdpdGhBcmMyMDBUb2tlbgogICAgaW50Y18yIC8vIDEKICAgIHJldHVybgoKbWFpbl9TdGFydEdhbWVXaXRoQVNBVG9rZW5fcm91dGVAMTE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjYwMgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIGV4cG9ydCBjbGFzcyBBdm1TYXRvc2hpRGljZSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzIgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgcHVzaGludCA0IC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjAyCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgY2FsbHN1YiBTdGFydEdhbWVXaXRoQVNBVG9rZW4KICAgIGludGNfMiAvLyAxCiAgICByZXR1cm4KCm1haW5fU3RhcnRHYW1lV2l0aE5hdGl2ZVRva2VuX3JvdXRlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NDMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQwCiAgICAvLyBleHBvcnQgY2xhc3MgQXZtU2F0b3NoaURpY2UgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18yIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMiAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTQzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgY2FsbHN1YiBTdGFydEdhbWVXaXRoTmF0aXZlVG9rZW4KICAgIGludGNfMiAvLyAxCiAgICByZXR1cm4KCm1haW5fQ3JlYXRlR2FtZVdpdGhBcmMyMDBUb2tlbl9yb3V0ZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NzIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQwCiAgICAvLyBleHBvcnQgY2xhc3MgQXZtU2F0b3NoaURpY2UgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ3MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgQ3JlYXRlR2FtZVdpdGhBcmMyMDBUb2tlbgogICAgaW50Y18yIC8vIDEKICAgIHJldHVybgoKbWFpbl9DcmVhdGVHYW1lV2l0aEFTQVRva2VuX3JvdXRlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQxMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIGV4cG9ydCBjbGFzcyBBdm1TYXRvc2hpRGljZSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzIgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgcHVzaGludCA0IC8vIGF4ZmVyCiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgYXhmZXIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDEzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgY2FsbHN1YiBDcmVhdGVHYW1lV2l0aEFTQVRva2VuCiAgICBpbnRjXzIgLy8gMQogICAgcmV0dXJuCgptYWluX09wdEluVG9BU0Ffcm91dGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Mzg3CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MAogICAgLy8gZXhwb3J0IGNsYXNzIEF2bVNhdG9zaGlEaWNlIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMiAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzIgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM4NwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIGNhbGxzdWIgT3B0SW5Ub0FTQQogICAgaW50Y18yIC8vIDEKICAgIHJldHVybgoKbWFpbl9DcmVhdGVHYW1lV2l0aE5hdGl2ZVRva2VuX3JvdXRlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjMzMAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gaXMgbm90IE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQgLy8gY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDAKICAgIC8vIGV4cG9ydCBjbGFzcyBBdm1TYXRvc2hpRGljZSBleHRlbmRzIENvbnRyYWN0IHsKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzIgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18yIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMzAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIENyZWF0ZUdhbWVXaXRoTmF0aXZlVG9rZW4KICAgIGludGNfMiAvLyAxCiAgICByZXR1cm4KCm1haW5fd2l0aGRyYXdfcm91dGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTk0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MAogICAgLy8gZXhwb3J0IGNsYXNzIEF2bVNhdG9zaGlEaWNlIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxOTQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIHdpdGhkcmF3CiAgICBpbnRjXzIgLy8gMQogICAgcmV0dXJuCgptYWluX3NlbmRPbmxpbmVLZXlSZWdpc3RyYXRpb25fcm91dGVANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTYxCiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBpcyBub3QgTm9PcAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MAogICAgLy8gZXhwb3J0IGNsYXNzIEF2bVNhdG9zaGlEaWNlIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZXh0cmFjdCAyIDAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBleHRyYWN0IDIgMAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNgogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNjEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICBjYWxsc3ViIHNlbmRPbmxpbmVLZXlSZWdpc3RyYXRpb24KICAgIGR1cAogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgc3dhcAogICAgY29uY2F0CiAgICBieXRlYyA3IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzIgLy8gMQogICAgcmV0dXJuCgptYWluX3VwZGF0ZUFwcGxpY2F0aW9uX3JvdXRlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE1MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHsgYWxsb3dBY3Rpb25zOiAnVXBkYXRlQXBwbGljYXRpb24nIH0pCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBwdXNoaW50IDQgLy8gVXBkYXRlQXBwbGljYXRpb24KICAgID09CiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIGlzIG5vdCBVcGRhdGVBcHBsaWNhdGlvbgogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydCAvLyBjYW4gb25seSBjYWxsIHdoZW4gbm90IGNyZWF0aW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MAogICAgLy8gZXhwb3J0IGNsYXNzIEF2bVNhdG9zaGlEaWNlIGV4dGVuZHMgQ29udHJhY3QgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTUyCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdVcGRhdGVBcHBsaWNhdGlvbicgfSkKICAgIGNhbGxzdWIgdXBkYXRlQXBwbGljYXRpb24KICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlYyA3IC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzIgLy8gMQogICAgcmV0dXJuCgptYWluX2JhcmVfcm91dGluZ0AxODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQwCiAgICAvLyBleHBvcnQgY2xhc3MgQXZtU2F0b3NoaURpY2UgZXh0ZW5kcyBDb250cmFjdCB7CiAgICB0eG4gT25Db21wbGV0aW9uCiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIyCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgIQogICAgYXNzZXJ0IC8vIGNhbiBvbmx5IGNhbGwgd2hlbiBjcmVhdGluZwogICAgaW50Y18yIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6OkF2bVNhdG9zaGlEaWNlLnVwZGF0ZUFwcGxpY2F0aW9uKG5ld1ZlcnNpb246IGJ5dGVzKSAtPiB1aW50NjQ6CnVwZGF0ZUFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNTItMTUzCiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyBhbGxvd0FjdGlvbnM6ICdVcGRhdGVBcHBsaWNhdGlvbicgfSkKICAgIC8vIHVwZGF0ZUFwcGxpY2F0aW9uKG5ld1ZlcnNpb246IHN0cmluZyk6IGJvb2xlYW4gewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE1NAogICAgLy8gYXNzZXJ0KEdsb2JhbC5jcmVhdG9yQWRkcmVzcyA9PT0gVHhuLnNlbmRlciwgJ09ubHkgY3JlYXRvciBjYW4gdXBkYXRlIGFwcGxpY2F0aW9uJykKICAgIGdsb2JhbCBDcmVhdG9yQWRkcmVzcwogICAgdHhuIFNlbmRlcgogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGNyZWF0b3IgY2FuIHVwZGF0ZSBhcHBsaWNhdGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDgKICAgIC8vIHZlcnNpb24gPSBHbG9iYWxTdGF0ZTxzdHJpbmc+KHsga2V5OiAnc2N2ZXInIH0pCiAgICBwdXNoYnl0ZXMgInNjdmVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNTUKICAgIC8vIHRoaXMudmVyc2lvbi52YWx1ZSA9IG5ld1ZlcnNpb24KICAgIGZyYW1lX2RpZyAtMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTU2CiAgICAvLyByZXR1cm4gdHJ1ZQogICAgaW50Y18yIC8vIDEKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6OkF2bVNhdG9zaGlEaWNlLnNlbmRPbmxpbmVLZXlSZWdpc3RyYXRpb24odm90ZUtleTogYnl0ZXMsIHNlbGVjdGlvbktleTogYnl0ZXMsIHN0YXRlUHJvb2ZLZXk6IGJ5dGVzLCB2b3RlRmlyc3Q6IHVpbnQ2NCwgdm90ZUxhc3Q6IHVpbnQ2NCwgdm90ZUtleURpbHV0aW9uOiB1aW50NjQsIGZlZTogdWludDY0KSAtPiBieXRlczoKc2VuZE9ubGluZUtleVJlZ2lzdHJhdGlvbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTYxLTE3MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBzZW5kT25saW5lS2V5UmVnaXN0cmF0aW9uKAogICAgLy8gICB2b3RlS2V5OiBieXRlcywKICAgIC8vICAgc2VsZWN0aW9uS2V5OiBieXRlcywKICAgIC8vICAgc3RhdGVQcm9vZktleTogYnl0ZXMsCiAgICAvLyAgIHZvdGVGaXJzdDogdWludDY0LAogICAgLy8gICB2b3RlTGFzdDogdWludDY0LAogICAgLy8gICB2b3RlS2V5RGlsdXRpb246IHVpbnQ2NCwKICAgIC8vICAgZmVlOiB1aW50NjQsCiAgICAvLyApOiBieXRlcyB7CiAgICBwcm90byA3IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTcxCiAgICAvLyBhc3NlcnQoR2xvYmFsLmNyZWF0b3JBZGRyZXNzID09PSBUeG4uc2VuZGVyLCAnT25seSBjcmVhdG9yIGNhbiB1c2UgdGhpcyBtZXRob2QnKQogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICB0eG4gU2VuZGVyCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgY3JlYXRvciBjYW4gdXNlIHRoaXMgbWV0aG9kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE3Mi0xODIKICAgIC8vIGNvbnN0IGl0eG5SZXN1bHQgPSBpdHhuCiAgICAvLyAgIC5rZXlSZWdpc3RyYXRpb24oewogICAgLy8gICAgIHNlbGVjdGlvbktleTogc2VsZWN0aW9uS2V5LAogICAgLy8gICAgIHN0YXRlUHJvb2ZLZXk6IHN0YXRlUHJvb2ZLZXksCiAgICAvLyAgICAgdm90ZUZpcnN0OiB2b3RlRmlyc3QsCiAgICAvLyAgICAgdm90ZUtleURpbHV0aW9uOiB2b3RlS2V5RGlsdXRpb24sCiAgICAvLyAgICAgdm90ZUxhc3Q6IHZvdGVMYXN0LAogICAgLy8gICAgIHZvdGVLZXk6IHZvdGVLZXksCiAgICAvLyAgICAgZmVlOiBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgZnJhbWVfZGlnIC03CiAgICBpdHhuX2ZpZWxkIFZvdGVQSwogICAgZnJhbWVfZGlnIC0zCiAgICBpdHhuX2ZpZWxkIFZvdGVMYXN0CiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgVm90ZUtleURpbHV0aW9uCiAgICBmcmFtZV9kaWcgLTQKICAgIGl0eG5fZmllbGQgVm90ZUZpcnN0CiAgICBmcmFtZV9kaWcgLTUKICAgIGl0eG5fZmllbGQgU3RhdGVQcm9vZlBLCiAgICBmcmFtZV9kaWcgLTYKICAgIGl0eG5fZmllbGQgU2VsZWN0aW9uUEsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTcyLTE4MQogICAgLy8gY29uc3QgaXR4blJlc3VsdCA9IGl0eG4KICAgIC8vICAgLmtleVJlZ2lzdHJhdGlvbih7CiAgICAvLyAgICAgc2VsZWN0aW9uS2V5OiBzZWxlY3Rpb25LZXksCiAgICAvLyAgICAgc3RhdGVQcm9vZktleTogc3RhdGVQcm9vZktleSwKICAgIC8vICAgICB2b3RlRmlyc3Q6IHZvdGVGaXJzdCwKICAgIC8vICAgICB2b3RlS2V5RGlsdXRpb246IHZvdGVLZXlEaWx1dGlvbiwKICAgIC8vICAgICB2b3RlTGFzdDogdm90ZUxhc3QsCiAgICAvLyAgICAgdm90ZUtleTogdm90ZUtleSwKICAgIC8vICAgICBmZWU6IGZlZSwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE3Mi0xODIKICAgIC8vIGNvbnN0IGl0eG5SZXN1bHQgPSBpdHhuCiAgICAvLyAgIC5rZXlSZWdpc3RyYXRpb24oewogICAgLy8gICAgIHNlbGVjdGlvbktleTogc2VsZWN0aW9uS2V5LAogICAgLy8gICAgIHN0YXRlUHJvb2ZLZXk6IHN0YXRlUHJvb2ZLZXksCiAgICAvLyAgICAgdm90ZUZpcnN0OiB2b3RlRmlyc3QsCiAgICAvLyAgICAgdm90ZUtleURpbHV0aW9uOiB2b3RlS2V5RGlsdXRpb24sCiAgICAvLyAgICAgdm90ZUxhc3Q6IHZvdGVMYXN0LAogICAgLy8gICAgIHZvdGVLZXk6IHZvdGVLZXksCiAgICAvLyAgICAgZmVlOiBmZWUsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKICAgIGl0eG4gVHhJRAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxODMKICAgIC8vIHJldHVybiBpdHhuUmVzdWx0LnR4bklkCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjpBdm1TYXRvc2hpRGljZS53aXRoZHJhdyhyZWNlaXZlcjogYnl0ZXMsIGFtb3VudDogYnl0ZXMsIGFzc2V0SWQ6IGJ5dGVzLCBpc0FyYzIwMFRva2VuOiBieXRlcykgLT4gdm9pZDoKd2l0aGRyYXc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE5NC0xOTUKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgd2l0aGRyYXcocmVjZWl2ZXI6IEFkZHJlc3MsIGFtb3VudDogVWludE4yNTYsIGFzc2V0SWQ6IFVpbnRONjQsIGlzQXJjMjAwVG9rZW46IEJvb2wpOiB2b2lkIHsKICAgIHByb3RvIDQgMAogICAgaW50Y18wIC8vIDAKICAgIGR1cG4gMwogICAgcHVzaGJ5dGVzICIiCiAgICBkdXBuIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTk2LTE5OQogICAgLy8gY29uc3Qga2V5ID0gbmV3IEFkZHJlc3NBc3NldFN0cnVjdCh7CiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIG93bmVyOiBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vIH0pCiAgICBmcmFtZV9kaWcgLTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTk4CiAgICAvLyBvd25lcjogbmV3IEFkZHJlc3MoVHhuLnNlbmRlciksCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE5Ni0xOTkKICAgIC8vIGNvbnN0IGtleSA9IG5ldyBBZGRyZXNzQXNzZXRTdHJ1Y3QoewogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBvd25lcjogbmV3IEFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MQogICAgLy8gcHVibGljIGdhbWVzID0gQm94TWFwPEFkZHJlc3NBc3NldFN0cnVjdCwgR2FtZVN0cnVjdD4oeyBrZXlQcmVmaXg6ICdnJyB9KQogICAgYnl0ZWNfMyAvLyAiZyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjIwMQogICAgLy8gaWYgKHRoaXMuZ2FtZXMoa2V5KS5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogd2l0aGRyYXdfZWxzZV9ib2R5QDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjIwMgogICAgLy8gY29uc3QgZ2FtZSA9IHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5jb3B5KCkKICAgIGZyYW1lX2RpZyA5CiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjIwNQogICAgLy8gaWYgKHRvV2l0aGRyYXdJbmNsdWRpbmdGZWUgPT09IEJpZ1VpbnQoMCkpIHsKICAgIGZyYW1lX2RpZyAtMwogICAgcHVzaGJ5dGVzIDB4CiAgICBiPT0KICAgIGZyYW1lX2RpZyAtMwogICAgZnJhbWVfYnVyeSAyCiAgICBieiB3aXRoZHJhd19hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjA2CiAgICAvLyB0b1dpdGhkcmF3SW5jbHVkaW5nRmVlID0gZ2FtZS5iYWxhbmNlLm5hdGl2ZQogICAgZnJhbWVfZGlnIDEKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2J1cnkgMgoKd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMDgKICAgIC8vIGNvbnN0IGZlZTogYmlndWludCA9IHRvV2l0aGRyYXdJbmNsdWRpbmdGZWUgLyBCaWdVaW50KDQwKQogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgcHVzaGJ5dGVzIDB4MjgKICAgIGIvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjIwOQogICAgLy8gY29uc3QgdG9XaXRoZHJhd05ldDogYmlndWludCA9IHRvV2l0aGRyYXdJbmNsdWRpbmdGZWUgLSBmZWUKICAgIGRpZyAxCiAgICBzd2FwCiAgICBiLQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjEyCiAgICAvLyBnYW1lLmJhbGFuY2UubmF0aXZlID49IHRvV2l0aGRyYXdJbmNsdWRpbmdGZWUsCiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBjb3ZlciAzCiAgICBleHRyYWN0IDAgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGRpZyAyCiAgICBiPj0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjExLTIxNAogICAgLy8gYXNzZXJ0KAogICAgLy8gICBnYW1lLmJhbGFuY2UubmF0aXZlID49IHRvV2l0aGRyYXdJbmNsdWRpbmdGZWUsCiAgICAvLyAgICdHYW1lIGNyZWF0b3IgY2FuIHdpdGhkcmF3IGZyb20gdGhlIGdhbWUgb25seSB0aGUgZ2FtZSBkZXBvc2l0JywKICAgIC8vICkKICAgIGFzc2VydCAvLyBHYW1lIGNyZWF0b3IgY2FuIHdpdGhkcmF3IGZyb20gdGhlIGdhbWUgb25seSB0aGUgZ2FtZSBkZXBvc2l0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjIxNgogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlLmJhbGFuY2UgPSBuZXcgVWludE4yNTYoZ2FtZS5iYWxhbmNlLm5hdGl2ZSAtIHRvV2l0aGRyYXdJbmNsdWRpbmdGZWUpCiAgICBzd2FwCiAgICBiLQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18xIC8vIDMyCiAgICBiemVybwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIHN3YXAKICAgIGRpZyAxCiAgICBifAogICAgZnJhbWVfZGlnIDkKICAgIGR1cAogICAgY292ZXIgMgogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIHJlcGxhY2UyIDAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBwdWJsaWMgYWxsRGVwb3NpdHMgPSBCb3hNYXA8VWludE42NCwgVWludE4yNTY+KHsga2V5UHJlZml4OiAnZCcgfSkKICAgIGJ5dGVjIDQgLy8gImQiCiAgICBmcmFtZV9kaWcgLTIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMTcKICAgIC8vIHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUgPSBuZXcgVWludE4yNTYodGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS52YWx1ZS5uYXRpdmUgLSB0b1dpdGhkcmF3TmV0KQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgdW5jb3ZlciAzCiAgICBiLQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgdW5jb3ZlciAyCiAgICBifAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMTkKICAgIC8vIGlmIChnYW1lLmlzTmF0aXZlVG9rZW4ubmF0aXZlKSB7CiAgICBpbnRjIDcgLy8gMzIwCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBieiB3aXRoZHJhd19hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjIwLTIyNwogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBuZXcgVWludE42NCh0b1dpdGhkcmF3TmV0KS5uYXRpdmUsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAndXNlciB3aXRoZHJhd2FsJywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMjIKICAgIC8vIGFtb3VudDogbmV3IFVpbnRONjQodG9XaXRoZHJhd05ldCkubmF0aXZlLAogICAgZnJhbWVfZGlnIDMKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18zIC8vIDgKICAgIGJ6ZXJvCiAgICBifAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMjQKICAgIC8vIG5vdGU6ICd1c2VyIHdpdGhkcmF3YWwnLAogICAgYnl0ZWMgOSAvLyAidXNlciB3aXRoZHJhd2FsIgogICAgaXR4bl9maWVsZCBOb3RlCiAgICBmcmFtZV9kaWcgLTQKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjIyMC0yMjYKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogbmV3IFVpbnRONjQodG9XaXRoZHJhd05ldCkubmF0aXZlLAogICAgLy8gICAgIHJlY2VpdmVyOiByZWNlaXZlci5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ3VzZXIgd2l0aGRyYXdhbCcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18yIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjI1CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjIwLTIyNwogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBuZXcgVWludE42NCh0b1dpdGhkcmF3TmV0KS5uYXRpdmUsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAndXNlciB3aXRoZHJhd2FsJywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCndpdGhkcmF3X2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjI5CiAgICAvLyBpZiAoZ2FtZS5pc0FTQVRva2VuLm5hdGl2ZSkgewogICAgZnJhbWVfZGlnIDEKICAgIGludGMgNSAvLyAzMjEKICAgIGdldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIGJ6IHdpdGhkcmF3X2FmdGVyX2lmX2Vsc2VAOQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMzAtMjM4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldyBVaW50TjY0KHRvV2l0aGRyYXdOZXQpLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlci5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ3VzZXIgd2l0aGRyYXdhbCcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjMyCiAgICAvLyB4ZmVyQXNzZXQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMzMKICAgIC8vIGFzc2V0QW1vdW50OiBuZXcgVWludE42NCh0b1dpdGhkcmF3TmV0KS5uYXRpdmUsCiAgICBmcmFtZV9kaWcgMwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzMgLy8gOAogICAgYnplcm8KICAgIGJ8CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjIzNQogICAgLy8gbm90ZTogJ3VzZXIgd2l0aGRyYXdhbCcsCiAgICBieXRlYyA5IC8vICJ1c2VyIHdpdGhkcmF3YWwiCiAgICBpdHhuX2ZpZWxkIE5vdGUKICAgIGZyYW1lX2RpZyAtNAogICAgaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyMzAtMjM3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldyBVaW50TjY0KHRvV2l0aGRyYXdOZXQpLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlci5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ3VzZXIgd2l0aGRyYXdhbCcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjM2CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjMwLTIzOAogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBnYW1lLmFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXcgVWludE42NCh0b1dpdGhkcmF3TmV0KS5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcmVjZWl2ZXIubmF0aXZlLAogICAgLy8gICAgIG5vdGU6ICd1c2VyIHdpdGhkcmF3YWwnLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAoKd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyNDAKICAgIC8vIGlmIChnYW1lLmlzQXJjMjAwVG9rZW4ubmF0aXZlKSB7CiAgICBmcmFtZV9kaWcgMQogICAgaW50YyA2IC8vIDMyMgogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgYnogd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAzMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyNDItMjQ5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBnYW1lLmFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFwcEFyZ3M6IFttZXRob2RTZWxlY3RvcignYXJjMjAwX3RyYW5zZmVyKGFkZHJlc3MsdWludDI1Nilib29sJyksIHJlY2VpdmVyLCBuZXcgVWludE4yNTYodG9XaXRoZHJhd05ldCldLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgICBub3RlOiAndXNlciB3aXRoZHJhd2FsJywKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI0NAogICAgLy8gYXBwSWQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDMyCiAgICBleHRyYWN0X3VpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyNDUKICAgIC8vIGFwcEFyZ3M6IFttZXRob2RTZWxlY3RvcignYXJjMjAwX3RyYW5zZmVyKGFkZHJlc3MsdWludDI1Nilib29sJyksIHJlY2VpdmVyLCBuZXcgVWludE4yNTYodG9XaXRoZHJhd05ldCldLAogICAgZnJhbWVfZGlnIDMKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGZyYW1lX2RpZyAwCiAgICBifAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyNDcKICAgIC8vIG5vdGU6ICd1c2VyIHdpdGhkcmF3YWwnLAogICAgYnl0ZWMgOSAvLyAidXNlciB3aXRoZHJhd2FsIgogICAgaXR4bl9maWVsZCBOb3RlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI0NQogICAgLy8gYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcmVjZWl2ZXIsIG5ldyBVaW50TjI1Nih0b1dpdGhkcmF3TmV0KV0sCiAgICBieXRlYyAxMCAvLyBtZXRob2QgImFyYzIwMF90cmFuc2ZlcihhZGRyZXNzLHVpbnQyNTYpYm9vbCIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTQKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI0Mi0yNDgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcmVjZWl2ZXIsIG5ldyBVaW50TjI1Nih0b1dpdGhkcmF3TmV0KV0sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICAgIG5vdGU6ICd1c2VyIHdpdGhkcmF3YWwnLAogICAgLy8gICB9KQogICAgcHVzaGludCA2IC8vIDYKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjQ2CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjQyLTI0OQogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogZ2FtZS5hc3NldElkLm5hdGl2ZSwKICAgIC8vICAgICBhcHBBcmdzOiBbbWV0aG9kU2VsZWN0b3IoJ2FyYzIwMF90cmFuc2ZlcihhZGRyZXNzLHVpbnQyNTYpYm9vbCcpLCByZWNlaXZlciwgbmV3IFVpbnROMjU2KHRvV2l0aGRyYXdOZXQpXSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgICAgbm90ZTogJ3VzZXIgd2l0aGRyYXdhbCcsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKCndpdGhkcmF3X2FmdGVyX2lmX2Vsc2VAMzA6CiAgICByZXRzdWIKCndpdGhkcmF3X2Vsc2VfYm9keUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjUzCiAgICAvLyBpZiAoR2xvYmFsLmNyZWF0b3JBZGRyZXNzID09PSBUeG4uc2VuZGVyKSB7CiAgICBnbG9iYWwgQ3JlYXRvckFkZHJlc3MKICAgIHR4biBTZW5kZXIKICAgID09CiAgICBhc3NlcnQgLy8gVGhlIGdhbWUgZm9yIHRoaXMgYXNzZXQgZG9lcyBub3QgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI1NgogICAgLy8gaWYgKGFzc2V0SWQubmF0aXZlID09PSAwKSB7CiAgICBmcmFtZV9kaWcgLTIKICAgIGJ0b2kKICAgIGR1cAogICAgZnJhbWVfYnVyeSA2CiAgICBibnogd2l0aGRyYXdfZWxzZV9ib2R5QDE5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI1OAogICAgLy8gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MuYmFsYW5jZSAtCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjU5CiAgICAvLyBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5taW5CYWxhbmNlIC0KICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyNTgtMjU5CiAgICAvLyBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5iYWxhbmNlIC0KICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLm1pbkJhbGFuY2UgLQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIHB1YmxpYyBhbGxEZXBvc2l0cyA9IEJveE1hcDxVaW50TjY0LCBVaW50TjI1Nj4oeyBrZXlQcmVmaXg6ICdkJyB9KQogICAgYnl0ZWMgNCAvLyAiZCIKICAgIGZyYW1lX2RpZyAtMgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI2MAogICAgLy8gbmV3IFVpbnRONjQodGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS52YWx1ZS5uYXRpdmUpLm5hdGl2ZQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGNfMCAvLyAwCiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMyAvLyA4CiAgICBiemVybwogICAgc3dhcAogICAgZGlnIDEKICAgIGJ8CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI1Ny0yNjAKICAgIC8vIGNvbnN0IG1heFdpdGhkcmF3YWJsZUJhbGFuY2U6IHVpbnQ2NCA9CiAgICAvLyAgIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJhbGFuY2UgLQogICAgLy8gICBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5taW5CYWxhbmNlIC0KICAgIC8vICAgbmV3IFVpbnRONjQodGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS52YWx1ZS5uYXRpdmUpLm5hdGl2ZQogICAgdW5jb3ZlciAyCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI1OC0yNjAKICAgIC8vIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJhbGFuY2UgLQogICAgLy8gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MubWluQmFsYW5jZSAtCiAgICAvLyBuZXcgVWludE42NCh0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLnZhbHVlLm5hdGl2ZSkubmF0aXZlCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI1Ny0yNjAKICAgIC8vIGNvbnN0IG1heFdpdGhkcmF3YWJsZUJhbGFuY2U6IHVpbnQ2NCA9CiAgICAvLyAgIEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLmJhbGFuY2UgLQogICAgLy8gICBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5taW5CYWxhbmNlIC0KICAgIC8vICAgbmV3IFVpbnRONjQodGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS52YWx1ZS5uYXRpdmUpLm5hdGl2ZQogICAgZHVwCiAgICBmcmFtZV9idXJ5IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjYxCiAgICAvLyBhc3NlcnQoYW1vdW50Lm5hdGl2ZSA8PSBCaWdVaW50KG1heFdpdGhkcmF3YWJsZUJhbGFuY2UpLCAnbWF4V2l0aGRyYXdhYmxlQmFsYW5jZSBpcyBsZXNzIHRoZW4gcmVxdWVzdGVkJykKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAtMwogICAgYj49CiAgICBhc3NlcnQgLy8gbWF4V2l0aGRyYXdhYmxlQmFsYW5jZSBpcyBsZXNzIHRoZW4gcmVxdWVzdGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI2MgogICAgLy8gbGV0IHRvV2lkcmF3OiB1aW50NjQgPSBuZXcgVWludE42NChhbW91bnQubmF0aXZlKS5uYXRpdmUKICAgIGZyYW1lX2RpZyAtMwogICAgYnwKICAgIGJ0b2kKICAgIGR1cAogICAgZnJhbWVfYnVyeSA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI2MwogICAgLy8gaWYgKHRvV2lkcmF3ID09PSAwKSB7CiAgICBibnogd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAxNwogICAgZnJhbWVfZGlnIDQKICAgIGZyYW1lX2J1cnkgNwoKd2l0aGRyYXdfYWZ0ZXJfaWZfZWxzZUAxNzoKICAgIGZyYW1lX2RpZyA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI2Ny0yNzQKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIGFtb3VudDogbmV3IFVpbnRONjQodG9XaWRyYXcpLm5hdGl2ZSwKICAgIC8vICAgICByZWNlaXZlcjogcmVjZWl2ZXIubmF0aXZlLAogICAgLy8gICAgIG5vdGU6ICdhZG1pbiB3aXRoZHJhd2FsJywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyNjkKICAgIC8vIGFtb3VudDogbmV3IFVpbnRONjQodG9XaWRyYXcpLm5hdGl2ZSwKICAgIGl0b2IKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjcxCiAgICAvLyBub3RlOiAnYWRtaW4gd2l0aGRyYXdhbCcsCiAgICBieXRlYyAxMSAvLyAiYWRtaW4gd2l0aGRyYXdhbCIKICAgIGl0eG5fZmllbGQgTm90ZQogICAgZnJhbWVfZGlnIC00CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoyNjctMjczCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBhbW91bnQ6IG5ldyBVaW50TjY0KHRvV2lkcmF3KS5uYXRpdmUsCiAgICAvLyAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAnYWRtaW4gd2l0aGRyYXdhbCcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgaW50Y18yIC8vIDEKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjcyCiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjY3LTI3NAogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgYW1vdW50OiBuZXcgVWludE42NCh0b1dpZHJhdykubmF0aXZlLAogICAgLy8gICAgIHJlY2VpdmVyOiByZWNlaXZlci5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ2FkbWluIHdpdGhkcmF3YWwnLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgp3aXRoZHJhd19lbHNlX2JvZHlAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI3NQogICAgLy8gfSBlbHNlIGlmIChpc0FyYzIwMFRva2VuLm5hdGl2ZSkgewogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBieiB3aXRoZHJhd19lbHNlX2JvZHlAMjIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjkwLTI5NwogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcmVjZWl2ZXIsIGFtb3VudF0sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICAgIG5vdGU6ICdhZG1pbiB3aXRoZHJhd2FsJywKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI5NQogICAgLy8gbm90ZTogJ2FkbWluIHdpdGhkcmF3YWwnLAogICAgYnl0ZWMgMTEgLy8gImFkbWluIHdpdGhkcmF3YWwiCiAgICBpdHhuX2ZpZWxkIE5vdGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjkzCiAgICAvLyBhcHBBcmdzOiBbbWV0aG9kU2VsZWN0b3IoJ2FyYzIwMF90cmFuc2ZlcihhZGRyZXNzLHVpbnQyNTYpYm9vbCcpLCByZWNlaXZlciwgYW1vdW50XSwKICAgIGJ5dGVjIDEwIC8vIG1ldGhvZCAiYXJjMjAwX3RyYW5zZmVyKGFkZHJlc3MsdWludDI1Nilib29sIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtNAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAtMwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyA2CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MjkwLTI5NgogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcmVjZWl2ZXIsIGFtb3VudF0sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICAgIG5vdGU6ICdhZG1pbiB3aXRoZHJhd2FsJywKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI5NAogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjI5MC0yOTcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IGFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFwcEFyZ3M6IFttZXRob2RTZWxlY3RvcignYXJjMjAwX3RyYW5zZmVyKGFkZHJlc3MsdWludDI1Nilib29sJyksIHJlY2VpdmVyLCBhbW91bnRdLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgICBub3RlOiAnYWRtaW4gd2l0aGRyYXdhbCcsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKICAgIHJldHN1YgoKd2l0aGRyYXdfZWxzZV9ib2R5QDIyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMDAKICAgIC8vIGNvbnN0IGJhbGFuY2UgPSBBc3NldChhc3NldElkLm5hdGl2ZSkuYmFsYW5jZShHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcykKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBmcmFtZV9kaWcgNgogICAgYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBvcHRlZCBpbnRvIGFzc2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MwogICAgLy8gcHVibGljIGFsbERlcG9zaXRzID0gQm94TWFwPFVpbnRONjQsIFVpbnROMjU2Pih7IGtleVByZWZpeDogJ2QnIH0pCiAgICBieXRlYyA0IC8vICJkIgogICAgZnJhbWVfZGlnIC0yCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzAxCiAgICAvLyBjb25zdCBtYXhXaXRoZHJhd2FibGVCYWxhbmNlOiB1aW50NjQgPSBiYWxhbmNlIC0gbmV3IFVpbnRONjQodGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS52YWx1ZS5uYXRpdmUpLm5hdGl2ZQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGNfMCAvLyAwCiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMyAvLyA4CiAgICBiemVybwogICAgc3dhcAogICAgZGlnIDEKICAgIGJ8CiAgICBidG9pCiAgICB1bmNvdmVyIDIKICAgIHN3YXAKICAgIC0KICAgIGR1cAogICAgZnJhbWVfYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjMwMgogICAgLy8gYXNzZXJ0KGFtb3VudC5uYXRpdmUgPD0gQmlnVWludChtYXhXaXRoZHJhd2FibGVCYWxhbmNlKSwgJ21heFdpdGhkcmF3YWJsZUJhbGFuY2UgaXMgbGVzcyB0aGVuIHJlcXVlc3RlZCcpCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgLTMKICAgIGI+PQogICAgYXNzZXJ0IC8vIG1heFdpdGhkcmF3YWJsZUJhbGFuY2UgaXMgbGVzcyB0aGVuIHJlcXVlc3RlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMDMKICAgIC8vIGxldCB0b1dpZHJhdzogdWludDY0ID0gbmV3IFVpbnRONjQoYW1vdW50Lm5hdGl2ZSkubmF0aXZlCiAgICBmcmFtZV9kaWcgLTMKICAgIGJ8CiAgICBidG9pCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMDQKICAgIC8vIGlmICh0b1dpZHJhdyA9PT0gMCkgewogICAgYm56IHdpdGhkcmF3X2FmdGVyX2lmX2Vsc2VAMjQKICAgIGZyYW1lX2RpZyA1CiAgICBmcmFtZV9idXJ5IDgKCndpdGhkcmF3X2FmdGVyX2lmX2Vsc2VAMjQ6CiAgICBmcmFtZV9kaWcgOAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMDgtMzE2CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IGFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXcgVWludE42NCh0b1dpZHJhdykubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHJlY2VpdmVyLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAnYWRtaW4gd2l0aGRyYXdhbCcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzExCiAgICAvLyBhc3NldEFtb3VudDogbmV3IFVpbnRONjQodG9XaWRyYXcpLm5hdGl2ZSwKICAgIGl0b2IKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzEzCiAgICAvLyBub3RlOiAnYWRtaW4gd2l0aGRyYXdhbCcsCiAgICBieXRlYyAxMSAvLyAiYWRtaW4gd2l0aGRyYXdhbCIKICAgIGl0eG5fZmllbGQgTm90ZQogICAgZnJhbWVfZGlnIC00CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgQXNzZXRBbW91bnQKICAgIGZyYW1lX2RpZyA2CiAgICBpdHhuX2ZpZWxkIFhmZXJBc3NldAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMDgtMzE1CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IGFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXcgVWludE42NCh0b1dpZHJhdykubmF0aXZlLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHJlY2VpdmVyLm5hdGl2ZSwKICAgIC8vICAgICBub3RlOiAnYWRtaW4gd2l0aGRyYXdhbCcsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgcHVzaGludCA0IC8vIDQKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzE0CiAgICAvLyBmZWU6IDAsCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzA4LTMxNgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBhc3NldElkLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogbmV3IFVpbnRONjQodG9XaWRyYXcpLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlci5uYXRpdmUsCiAgICAvLyAgICAgbm90ZTogJ2FkbWluIHdpdGhkcmF3YWwnLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo6QXZtU2F0b3NoaURpY2UuQ3JlYXRlR2FtZVdpdGhOYXRpdmVUb2tlbih0eG5EZXBvc2l0OiB1aW50NjQsIHdpblJhdGlvOiBieXRlcykgLT4gdm9pZDoKQ3JlYXRlR2FtZVdpdGhOYXRpdmVUb2tlbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzMwLTMzMQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBDcmVhdGVHYW1lV2l0aE5hdGl2ZVRva2VuKHR4bkRlcG9zaXQ6IGd0eG4uUGF5bWVudFR4biwgd2luUmF0aW86IFVpbnRONjQpOiB2b2lkIHsKICAgIHByb3RvIDIgMAogICAgaW50Y18wIC8vIDAKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMzIKICAgIC8vIGNvbnN0IHNlbmRlciA9IG5ldyBhcmM0LkFkZHJlc3ModHhuRGVwb3NpdC5zZW5kZXIpCiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMzQKICAgIC8vIGFzc2VydCh3aW5SYXRpby5uYXRpdmUgPD0gMV8wMDBfMDAwLCAnV2luIHByb2JhYmlsaXR5IG11c3QgYmUgYmVsb3cgMSAwMDAgMDAwJykKICAgIGZyYW1lX2RpZyAtMQogICAgYnRvaQogICAgaW50YyA0IC8vIDEwMDAwMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gV2luIHByb2JhYmlsaXR5IG11c3QgYmUgYmVsb3cgMSAwMDAgMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjMzNgogICAgLy8gY29uc3QgZmVlOiB1aW50NjQgPSB0eG5EZXBvc2l0LmFtb3VudCAvIDQwIC8vMi41JQogICAgZnJhbWVfZGlnIC0yCiAgICBndHhucyBBbW91bnQKICAgIGR1cAogICAgcHVzaGludCA0MCAvLyA0MAogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMzcKICAgIC8vIGNvbnN0IGRlcG9zaXQ6IHVpbnQ2NCA9IHR4bkRlcG9zaXQuYW1vdW50IC0gZmVlCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjMzOAogICAgLy8gbGV0IHByZXZEZXBvc2l0OiBVaW50TjI1NiA9IG5ldyBVaW50TjI1NigwKQogICAgYnl0ZWNfMSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBwdWJsaWMgYWxsRGVwb3NpdHMgPSBCb3hNYXA8VWludE42NCwgVWludE4yNTY+KHsga2V5UHJlZml4OiAnZCcgfSkKICAgIGJ5dGVjIDUgLy8gMHg2NDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzM5CiAgICAvLyBpZiAodGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogQ3JlYXRlR2FtZVdpdGhOYXRpdmVUb2tlbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBwdWJsaWMgYWxsRGVwb3NpdHMgPSBCb3hNYXA8VWludE42NCwgVWludE4yNTY+KHsga2V5UHJlZml4OiAnZCcgfSkKICAgIGJ5dGVjIDUgLy8gMHg2NDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzQwCiAgICAvLyBwcmV2RGVwb3NpdCA9IHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgNAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKCkNyZWF0ZUdhbWVXaXRoTmF0aXZlVG9rZW5fYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNDMKICAgIC8vIHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUgPSBuZXcgVWludE4yNTYocHJldkRlcG9zaXQubmF0aXZlICsgQmlnVWludChkZXBvc2l0KSkKICAgIGZyYW1lX2RpZyAzCiAgICBpdG9iCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgZnJhbWVfZGlnIDQKICAgIGIrCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzEgLy8gMzIKICAgIGJ6ZXJvCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBwdWJsaWMgYWxsRGVwb3NpdHMgPSBCb3hNYXA8VWludE42NCwgVWludE4yNTY+KHsga2V5UHJlZml4OiAnZCcgfSkKICAgIGJ5dGVjIDUgLy8gMHg2NDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzQzCiAgICAvLyB0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLnZhbHVlID0gbmV3IFVpbnROMjU2KHByZXZEZXBvc2l0Lm5hdGl2ZSArIEJpZ1VpbnQoZGVwb3NpdCkpCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM0NQogICAgLy8gYXNzZXJ0KHR4bkRlcG9zaXQucmVjZWl2ZXIgPT09IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLCAnUmVjZWl2ZXIgbXVzdCBiZSB0aGUgZ2FzIHN0YXRpb24gYXBwJykKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgYXNzZXJ0IC8vIFJlY2VpdmVyIG11c3QgYmUgdGhlIGdhcyBzdGF0aW9uIGFwcAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMzMKICAgIC8vIGNvbnN0IGFzc2V0SWQgPSBuZXcgVWludE42NCgwKQogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzQ3LTM1MAogICAgLy8gY29uc3Qga2V5ID0gbmV3IEFkZHJlc3NBc3NldFN0cnVjdCh7CiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgZnJhbWVfZGlnIDIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDEKICAgIC8vIHB1YmxpYyBnYW1lcyA9IEJveE1hcDxBZGRyZXNzQXNzZXRTdHJ1Y3QsIEdhbWVTdHJ1Y3Q+KHsga2V5UHJlZml4OiAnZycgfSkKICAgIGJ5dGVjXzMgLy8gImciCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNTEKICAgIC8vIGlmICh0aGlzLmdhbWVzKGtleSkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IENyZWF0ZUdhbWVXaXRoTmF0aXZlVG9rZW5fZWxzZV9ib2R5QDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzUyCiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhrZXkpLnZhbHVlLmlzTmF0aXZlVG9rZW4gPT09IG5ldyBCb29sKHRydWUpLCAnVGhlIHByZXZpb3VzIGdhbWUgd2FzIG5vdCBmb3IgdGhlIG5hdGl2ZSB0b2tlbicpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDcgLy8gMzIwCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlYyA4IC8vIDB4ODAKICAgID09CiAgICBhc3NlcnQgLy8gVGhlIHByZXZpb3VzIGdhbWUgd2FzIG5vdCBmb3IgdGhlIG5hdGl2ZSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNTMKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkudmFsdWUuaXNBU0FUb2tlbiA9PT0gbmV3IEJvb2woZmFsc2UpLCAnVGhlIHByZXZpb3VzIGdhbWUgd2FzIEFTQSB0b2tlbicpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDUgLy8gMzIxCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgID09CiAgICBhc3NlcnQgLy8gVGhlIHByZXZpb3VzIGdhbWUgd2FzIEFTQSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNTQKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkudmFsdWUuYXNzZXRJZCA9PT0gYXNzZXRJZCwgJ1RoZSBwcmV2aW91cyBnYW1lIHdhcyBub3QgZm9yIHRoZSBuYXRpdmUgdG9rZW4nKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAzMiA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMzMKICAgIC8vIGNvbnN0IGFzc2V0SWQgPSBuZXcgVWludE42NCgwKQogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzU0CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhrZXkpLnZhbHVlLmFzc2V0SWQgPT09IGFzc2V0SWQsICdUaGUgcHJldmlvdXMgZ2FtZSB3YXMgbm90IGZvciB0aGUgbmF0aXZlIHRva2VuJykKICAgID09CiAgICBhc3NlcnQgLy8gVGhlIHByZXZpb3VzIGdhbWUgd2FzIG5vdCBmb3IgdGhlIG5hdGl2ZSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNTcKICAgIC8vIGNvbnN0IG9sZEJhbGFuY2UgPSB0aGlzLmdhbWVzKGtleSkudmFsdWUuYmFsYW5jZQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNTgKICAgIC8vIHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5iYWxhbmNlID0gbmV3IFVpbnROMjU2KG9sZEJhbGFuY2UubmF0aXZlICsgQmlnVWludChkZXBvc2l0KSkKICAgIGZyYW1lX2RpZyAxCiAgICBiKwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZnJhbWVfZGlnIDAKICAgIGJ8CiAgICBkaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIHJlcGxhY2UyIDAKICAgIGRpZyAxCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM1OQogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlLndpblJhdGlvID0gd2luUmF0aW8KICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAtMQogICAgcmVwbGFjZTIgMTI5CiAgICBib3hfcHV0CiAgICByZXRzdWIKCkNyZWF0ZUdhbWVXaXRoTmF0aXZlVG9rZW5fZWxzZV9ib2R5QDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM2MwogICAgLy8gYmFsYW5jZTogbmV3IFVpbnROMjU2KEJpZ1VpbnQoZGVwb3NpdCkpLAogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGZyYW1lX2RpZyAwCiAgICBifAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozMzMKICAgIC8vIGNvbnN0IGFzc2V0SWQgPSBuZXcgVWludE42NCgwKQogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzYyLTM3NwogICAgLy8gY29uc3QgbmV3VmFsdWUgPSBuZXcgR2FtZVN0cnVjdCh7CiAgICAvLyAgIGJhbGFuY2U6IG5ldyBVaW50TjI1NihCaWdVaW50KGRlcG9zaXQpKSwKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgaXNBcmMyMDBUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vICAgaXNBU0FUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gCiAgICAvLyAgIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHdpblJhdGlvOiB3aW5SYXRpbywKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzY2CiAgICAvLyBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIGJ5dGVjIDggLy8gMHg4MAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNjItMzc3CiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBHYW1lU3RydWN0KHsKICAgIC8vICAgYmFsYW5jZTogbmV3IFVpbnROMjU2KEJpZ1VpbnQoZGVwb3NpdCkpLAogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBpc0FyYzIwMFRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzTmF0aXZlVG9rZW46IG5ldyBCb29sKHRydWUpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAKICAgIC8vICAgbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgd2luUmF0aW86IHdpblJhdGlvLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gfSkKICAgIGNvbmNhdAogICAgaW50YyA1IC8vIDMyMQogICAgaW50Y18wIC8vIDAKICAgIHNldGJpdAogICAgaW50YyA2IC8vIDMyMgogICAgaW50Y18wIC8vIDAKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNjkKICAgIC8vIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIGJ5dGVjXzIgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM2Mi0zNzcKICAgIC8vIGNvbnN0IG5ld1ZhbHVlID0gbmV3IEdhbWVTdHJ1Y3QoewogICAgLy8gICBiYWxhbmNlOiBuZXcgVWludE4yNTYoQmlnVWludChkZXBvc2l0KSksCiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIGlzQXJjMjAwVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2wodHJ1ZSksCiAgICAvLyAgIGlzQVNBVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vIAogICAgLy8gICBsYXN0UGxheWVkVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICB3aW5SYXRpbzogd2luUmF0aW8sCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM3MAogICAgLy8gbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzYyLTM3NwogICAgLy8gY29uc3QgbmV3VmFsdWUgPSBuZXcgR2FtZVN0cnVjdCh7CiAgICAvLyAgIGJhbGFuY2U6IG5ldyBVaW50TjI1NihCaWdVaW50KGRlcG9zaXQpKSwKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgaXNBcmMyMDBUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vICAgaXNBU0FUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gCiAgICAvLyAgIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHdpblJhdGlvOiB3aW5SYXRpbywKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzcxCiAgICAvLyBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICBieXRlY18xIC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNjItMzc3CiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBHYW1lU3RydWN0KHsKICAgIC8vICAgYmFsYW5jZTogbmV3IFVpbnROMjU2KEJpZ1VpbnQoZGVwb3NpdCkpLAogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBpc0FyYzIwMFRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzTmF0aXZlVG9rZW46IG5ldyBCb29sKHRydWUpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAKICAgIC8vICAgbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgd2luUmF0aW86IHdpblJhdGlvLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozNzMKICAgIC8vIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIGJ5dGVjXzIgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM2Mi0zNzcKICAgIC8vIGNvbnN0IG5ld1ZhbHVlID0gbmV3IEdhbWVTdHJ1Y3QoewogICAgLy8gICBiYWxhbmNlOiBuZXcgVWludE4yNTYoQmlnVWludChkZXBvc2l0KSksCiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIGlzQXJjMjAwVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2wodHJ1ZSksCiAgICAvLyAgIGlzQVNBVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vIAogICAgLy8gICBsYXN0UGxheWVkVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICB3aW5SYXRpbzogd2luUmF0aW8sCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM3MgogICAgLy8gYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgYnl0ZWNfMSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MzYyLTM3NwogICAgLy8gY29uc3QgbmV3VmFsdWUgPSBuZXcgR2FtZVN0cnVjdCh7CiAgICAvLyAgIGJhbGFuY2U6IG5ldyBVaW50TjI1NihCaWdVaW50KGRlcG9zaXQpKSwKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgaXNBcmMyMDBUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vICAgaXNBU0FUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gCiAgICAvLyAgIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHdpblJhdGlvOiB3aW5SYXRpbywKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgMgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM3OAogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlID0gbmV3VmFsdWUuY29weSgpCiAgICBib3hfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjpBdm1TYXRvc2hpRGljZS5PcHRJblRvQVNBKHR4bkRlcG9zaXQ6IHVpbnQ2NCwgYXNzZXRJZDogYnl0ZXMpIC0+IHZvaWQ6Ck9wdEluVG9BU0E6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM4Ny0zODgKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgT3B0SW5Ub0FTQSh0eG5EZXBvc2l0OiBndHhuLlBheW1lbnRUeG4sIGFzc2V0SWQ6IFVpbnRONjQpIHsKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozOTAKICAgIC8vIHR4bkRlcG9zaXQucmVjZWl2ZXIgPT09IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZnJhbWVfZGlnIC0yCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM4OS0zOTIKICAgIC8vIGFzc2VydCgKICAgIC8vICAgdHhuRGVwb3NpdC5yZWNlaXZlciA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICdSZWNlaXZlciBvZiB0aGUgb3B0aW4gZmVlIG11c3QgYmUgdGhlIGN1cnJlbnQgc21hcnQgY29udHJhY3QnLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIFJlY2VpdmVyIG9mIHRoZSBvcHRpbiBmZWUgbXVzdCBiZSB0aGUgY3VycmVudCBzbWFydCBjb250cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozOTMKICAgIC8vIGFzc2VydCh0eG5EZXBvc2l0LmFtb3VudCA9PT0gMTBfMDAwXzAwMCwgJ09wdCBpbiBmZWUgZm9yIG5ldyBhc3NldCBpcyAxMCBuYXRpdmUgdG9rZW5zJykKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgQW1vdW50CiAgICBwdXNoaW50IDEwMDAwMDAwIC8vIDEwMDAwMDAwCiAgICA9PQogICAgYXNzZXJ0IC8vIE9wdCBpbiBmZWUgZm9yIG5ldyBhc3NldCBpcyAxMCBuYXRpdmUgdG9rZW5zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM5NQogICAgLy8gaWYgKCFHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5pc09wdGVkSW4oQXNzZXQoYXNzZXRJZC5uYXRpdmUpKSkgewogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGZyYW1lX2RpZyAtMQogICAgYnRvaQogICAgZHVwCiAgICBjb3ZlciAyCiAgICBhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKICAgIGJ1cnkgMQogICAgYm56IE9wdEluVG9BU0FfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjM5Ni00MDMKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHhmZXJBc3NldDogYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IDAsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDAwCiAgICAvLyBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Mzk5CiAgICAvLyBhc3NldEFtb3VudDogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBmcmFtZV9kaWcgMAogICAgaXR4bl9maWVsZCBYZmVyQXNzZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Mzk2LTQwMgogICAgLy8gaXR4bgogICAgLy8gICAuYXNzZXRUcmFuc2Zlcih7CiAgICAvLyAgICAgeGZlckFzc2V0OiBhc3NldElkLm5hdGl2ZSwKICAgIC8vICAgICBhc3NldEFtb3VudDogMCwKICAgIC8vICAgICBhc3NldFJlY2VpdmVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0MDEKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czozOTYtNDAzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICB4ZmVyQXNzZXQ6IGFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiAwLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAoKT3B0SW5Ub0FTQV9hZnRlcl9pZl9lbHNlQDM6CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjpBdm1TYXRvc2hpRGljZS5DcmVhdGVHYW1lV2l0aEFTQVRva2VuKHR4bkRlcG9zaXQ6IHVpbnQ2NCwgd2luUmF0aW86IGJ5dGVzKSAtPiB2b2lkOgpDcmVhdGVHYW1lV2l0aEFTQVRva2VuOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0MTMtNDE0CiAgICAvLyBAYXJjNC5hYmltZXRob2QoKQogICAgLy8gcHVibGljIENyZWF0ZUdhbWVXaXRoQVNBVG9rZW4odHhuRGVwb3NpdDogZ3R4bi5Bc3NldFRyYW5zZmVyVHhuLCB3aW5SYXRpbzogVWludE42NCk6IHZvaWQgewogICAgcHJvdG8gMiAwCiAgICBpbnRjXzAgLy8gMAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQxNQogICAgLy8gY29uc3Qgc2VuZGVyID0gbmV3IGFyYzQuQWRkcmVzcyh0eG5EZXBvc2l0LnNlbmRlcikKICAgIGZyYW1lX2RpZyAtMgogICAgZ3R4bnMgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQxNgogICAgLy8gYXNzZXJ0KHdpblJhdGlvLm5hdGl2ZSA8PSAxXzAwMF8wMDAsICdXaW4gcHJvYmFiaWxpdHkgbXVzdCBiZSBiZWxvdyAxIDAwMCAwMDAnKQogICAgZnJhbWVfZGlnIC0xCiAgICBidG9pCiAgICBpbnRjIDQgLy8gMTAwMDAwMAogICAgPD0KICAgIGFzc2VydCAvLyBXaW4gcHJvYmFiaWxpdHkgbXVzdCBiZSBiZWxvdyAxIDAwMCAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDE3CiAgICAvLyBjb25zdCBhc3NldElkID0gbmV3IFVpbnRONjQodHhuRGVwb3NpdC54ZmVyQXNzZXQuaWQpCiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIFhmZXJBc3NldAogICAgaXRvYgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQxOQogICAgLy8gY29uc3QgZmVlOiB1aW50NjQgPSB0eG5EZXBvc2l0LmFzc2V0QW1vdW50IC8gNDAgLy8yLjUlCiAgICBmcmFtZV9kaWcgLTIKICAgIGd0eG5zIEFzc2V0QW1vdW50CiAgICBkdXAKICAgIHB1c2hpbnQgNDAgLy8gNDAKICAgIC8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDIwCiAgICAvLyBjb25zdCBkZXBvc2l0OiB1aW50NjQgPSB0eG5EZXBvc2l0LmFzc2V0QW1vdW50IC0gZmVlCiAgICAtCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQyMQogICAgLy8gbGV0IHByZXZEZXBvc2l0OiBVaW50TjI1NiA9IG5ldyBVaW50TjI1NigwKQogICAgYnl0ZWNfMSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBwdWJsaWMgYWxsRGVwb3NpdHMgPSBCb3hNYXA8VWludE42NCwgVWludE4yNTY+KHsga2V5UHJlZml4OiAnZCcgfSkKICAgIGJ5dGVjIDQgLy8gImQiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0MjIKICAgIC8vIGlmICh0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBDcmVhdGVHYW1lV2l0aEFTQVRva2VuX2FmdGVyX2lmX2Vsc2VAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0MjMKICAgIC8vIHByZXZEZXBvc2l0ID0gdGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS52YWx1ZQogICAgZnJhbWVfZGlnIDYKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgNQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKCkNyZWF0ZUdhbWVXaXRoQVNBVG9rZW5fYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0MjYKICAgIC8vIHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUgPSBuZXcgVWludE4yNTYocHJldkRlcG9zaXQubmF0aXZlICsgQmlnVWludChkZXBvc2l0KSkKICAgIGZyYW1lX2RpZyA0CiAgICBpdG9iCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMQogICAgZnJhbWVfZGlnIDUKICAgIGIrCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzEgLy8gMzIKICAgIGJ6ZXJvCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgYnwKICAgIGZyYW1lX2RpZyA2CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQyOAogICAgLy8gYXNzZXJ0KHR4bkRlcG9zaXQuYXNzZXRSZWNlaXZlciA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsICdSZWNlaXZlciBtdXN0IGJlIHRoZSBnYXMgc3RhdGlvbiBhcHAnKQogICAgZnJhbWVfZGlnIC0yCiAgICBndHhucyBBc3NldFJlY2VpdmVyCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgPT0KICAgIGFzc2VydCAvLyBSZWNlaXZlciBtdXN0IGJlIHRoZSBnYXMgc3RhdGlvbiBhcHAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDMwLTQzMwogICAgLy8gY29uc3Qga2V5ID0gbmV3IEFkZHJlc3NBc3NldFN0cnVjdCh7CiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2RpZyAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQxCiAgICAvLyBwdWJsaWMgZ2FtZXMgPSBCb3hNYXA8QWRkcmVzc0Fzc2V0U3RydWN0LCBHYW1lU3RydWN0Pih7IGtleVByZWZpeDogJ2cnIH0pCiAgICBieXRlY18zIC8vICJnIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDM0CiAgICAvLyBpZiAodGhpcy5nYW1lcyhrZXkpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBDcmVhdGVHYW1lV2l0aEFTQVRva2VuX2Vsc2VfYm9keUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQzNQogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5pc05hdGl2ZVRva2VuID09PSBuZXcgQm9vbChmYWxzZSksICdUaGUgcHJldmlvdXMgZ2FtZSB3YXMgZm9yIHRoZSBuYXRpdmUgdG9rZW4nKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDMyMAogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICA9PQogICAgYXNzZXJ0IC8vIFRoZSBwcmV2aW91cyBnYW1lIHdhcyBmb3IgdGhlIG5hdGl2ZSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0MzYKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkudmFsdWUuaXNBcmMyMDBUb2tlbiA9PT0gbmV3IEJvb2woZmFsc2UpLCAnVGhlIHByZXZpb3VzIGdhbWUgd2FzIGZvciB0aGUgYXJjMjAwIHRva2VuJykKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNiAvLyAzMjIKICAgIGdldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgPT0KICAgIGFzc2VydCAvLyBUaGUgcHJldmlvdXMgZ2FtZSB3YXMgZm9yIHRoZSBhcmMyMDAgdG9rZW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDM3CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhrZXkpLnZhbHVlLmlzQVNBVG9rZW4gPT09IG5ldyBCb29sKHRydWUpLCAnVGhlIHByZXZpb3VzIGdhbWUgd2FzIG5vdCBmb3IgdGhlIEFTQSB0b2tlbicpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBpbnRjIDUgLy8gMzIxCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlYyA4IC8vIDB4ODAKICAgID09CiAgICBhc3NlcnQgLy8gVGhlIHByZXZpb3VzIGdhbWUgd2FzIG5vdCBmb3IgdGhlIEFTQSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0MzgKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkudmFsdWUuYXNzZXRJZCA9PT0gYXNzZXRJZCwgJ1RoZSBwcmV2aW91cyBnYW1lIHdhcyBub3QgZm9yIHRoZSBzYW1lIHRva2VuJykKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMzIgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAzCiAgICA9PQogICAgYXNzZXJ0IC8vIFRoZSBwcmV2aW91cyBnYW1lIHdhcyBub3QgZm9yIHRoZSBzYW1lIHRva2VuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ0MQogICAgLy8gY29uc3Qgb2xkQmFsYW5jZSA9IHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5iYWxhbmNlCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDAgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ0MgogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlLmJhbGFuY2UgPSBuZXcgVWludE4yNTYob2xkQmFsYW5jZS5uYXRpdmUgKyBCaWdVaW50KGRlcG9zaXQpKQogICAgZnJhbWVfZGlnIDEKICAgIGIrCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBmcmFtZV9kaWcgMAogICAgYnwKICAgIGRpZyAxCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgc3dhcAogICAgcmVwbGFjZTIgMAogICAgZGlnIDEKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDQzCiAgICAvLyB0aGlzLmdhbWVzKGtleSkudmFsdWUud2luUmF0aW8gPSB3aW5SYXRpbwogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZnJhbWVfZGlnIC0xCiAgICByZXBsYWNlMiAxMjkKICAgIGJveF9wdXQKICAgIHJldHN1YgoKQ3JlYXRlR2FtZVdpdGhBU0FUb2tlbl9lbHNlX2JvZHlANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDQ3CiAgICAvLyBiYWxhbmNlOiBuZXcgVWludE4yNTYoQmlnVWludChkZXBvc2l0KSksCiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZnJhbWVfZGlnIDAKICAgIGJ8CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ0Ni00NjEKICAgIC8vIGNvbnN0IG5ld1ZhbHVlID0gbmV3IEdhbWVTdHJ1Y3QoewogICAgLy8gICBiYWxhbmNlOiBuZXcgVWludE4yNTYoQmlnVWludChkZXBvc2l0KSksCiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIGlzQXJjMjAwVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vIAogICAgLy8gICBsYXN0UGxheWVkVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICB3aW5SYXRpbzogd2luUmF0aW8sCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgZnJhbWVfZGlnIDMKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NTAKICAgIC8vIGlzTmF0aXZlVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NDYtNDYxCiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBHYW1lU3RydWN0KHsKICAgIC8vICAgYmFsYW5jZTogbmV3IFVpbnROMjU2KEJpZ1VpbnQoZGVwb3NpdCkpLAogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBpc0FyYzIwMFRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzTmF0aXZlVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNBU0FUb2tlbjogbmV3IEJvb2wodHJ1ZSksCiAgICAvLyAKICAgIC8vICAgbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgd2luUmF0aW86IHdpblJhdGlvLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gfSkKICAgIGNvbmNhdAogICAgaW50YyA1IC8vIDMyMQogICAgaW50Y18yIC8vIDEKICAgIHNldGJpdAogICAgaW50YyA2IC8vIDMyMgogICAgaW50Y18wIC8vIDAKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NTMKICAgIC8vIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIGJ5dGVjXzIgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ0Ni00NjEKICAgIC8vIGNvbnN0IG5ld1ZhbHVlID0gbmV3IEdhbWVTdHJ1Y3QoewogICAgLy8gICBiYWxhbmNlOiBuZXcgVWludE4yNTYoQmlnVWludChkZXBvc2l0KSksCiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIGlzQXJjMjAwVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vIAogICAgLy8gICBsYXN0UGxheWVkVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICB3aW5SYXRpbzogd2luUmF0aW8sCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ1NAogICAgLy8gbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDQ2LTQ2MQogICAgLy8gY29uc3QgbmV3VmFsdWUgPSBuZXcgR2FtZVN0cnVjdCh7CiAgICAvLyAgIGJhbGFuY2U6IG5ldyBVaW50TjI1NihCaWdVaW50KGRlcG9zaXQpKSwKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgaXNBcmMyMDBUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzQVNBVG9rZW46IG5ldyBCb29sKHRydWUpLAogICAgLy8gCiAgICAvLyAgIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHdpblJhdGlvOiB3aW5SYXRpbywKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDU1CiAgICAvLyBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICBieXRlY18xIC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NDYtNDYxCiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBHYW1lU3RydWN0KHsKICAgIC8vICAgYmFsYW5jZTogbmV3IFVpbnROMjU2KEJpZ1VpbnQoZGVwb3NpdCkpLAogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBpc0FyYzIwMFRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzTmF0aXZlVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNBU0FUb2tlbjogbmV3IEJvb2wodHJ1ZSksCiAgICAvLyAKICAgIC8vICAgbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgd2luUmF0aW86IHdpblJhdGlvLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NTcKICAgIC8vIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIGJ5dGVjXzIgLy8gMHgwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ0Ni00NjEKICAgIC8vIGNvbnN0IG5ld1ZhbHVlID0gbmV3IEdhbWVTdHJ1Y3QoewogICAgLy8gICBiYWxhbmNlOiBuZXcgVWludE4yNTYoQmlnVWludChkZXBvc2l0KSksCiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIGlzQXJjMjAwVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vIAogICAgLy8gICBsYXN0UGxheWVkVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICB3aW5SYXRpbzogd2luUmF0aW8sCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ1NgogICAgLy8gYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgYnl0ZWNfMSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDQ2LTQ2MQogICAgLy8gY29uc3QgbmV3VmFsdWUgPSBuZXcgR2FtZVN0cnVjdCh7CiAgICAvLyAgIGJhbGFuY2U6IG5ldyBVaW50TjI1NihCaWdVaW50KGRlcG9zaXQpKSwKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgaXNBcmMyMDBUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzQVNBVG9rZW46IG5ldyBCb29sKHRydWUpLAogICAgLy8gCiAgICAvLyAgIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHdpblJhdGlvOiB3aW5SYXRpbywKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgMgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ2MgogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlID0gbmV3VmFsdWUuY29weSgpCiAgICBib3hfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjpBdm1TYXRvc2hpRGljZS5DcmVhdGVHYW1lV2l0aEFyYzIwMFRva2VuKGFzc2V0SWQ6IGJ5dGVzLCBhbW91bnQ6IGJ5dGVzLCB3aW5SYXRpbzogYnl0ZXMpIC0+IHZvaWQ6CkNyZWF0ZUdhbWVXaXRoQXJjMjAwVG9rZW46CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ3Mi00NzMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgQ3JlYXRlR2FtZVdpdGhBcmMyMDBUb2tlbihhc3NldElkOiBVaW50TjY0LCBhbW91bnQ6IFVpbnROMjU2LCB3aW5SYXRpbzogVWludE42NCk6IHZvaWQgewogICAgcHJvdG8gMyAwCiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NzQKICAgIC8vIGNvbnN0IHNlbmRlciA9IG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDc1CiAgICAvLyBhc3NlcnQod2luUmF0aW8ubmF0aXZlIDw9IDFfMDAwXzAwMCwgJ1dpbiBwcm9iYWJpbGl0eSBtdXN0IGJlIGJlbG93IDEgMDAwIDAwMCcpCiAgICBmcmFtZV9kaWcgLTEKICAgIGJ0b2kKICAgIGludGMgNCAvLyAxMDAwMDAwCiAgICA8PQogICAgYXNzZXJ0IC8vIFdpbiBwcm9iYWJpbGl0eSBtdXN0IGJlIGJlbG93IDEgMDAwIDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0NzcKICAgIC8vIGNvbnN0IGZlZTogYmlndWludCA9IGFtb3VudC5uYXRpdmUgLyBCaWdVaW50KDQwKSAvLzIuNSUKICAgIGZyYW1lX2RpZyAtMgogICAgcHVzaGJ5dGVzIDB4MjgKICAgIGIvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ3OAogICAgLy8gY29uc3QgZGVwb3NpdDogYmlndWludCA9IGFtb3VudC5uYXRpdmUgLSBmZWUKICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgYi0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDc5CiAgICAvLyBsZXQgcHJldkRlcG9zaXQ6IFVpbnROMjU2ID0gbmV3IFVpbnROMjU2KDApCiAgICBieXRlY18xIC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIHB1YmxpYyBhbGxEZXBvc2l0cyA9IEJveE1hcDxVaW50TjY0LCBVaW50TjI1Nj4oeyBrZXlQcmVmaXg6ICdkJyB9KQogICAgYnl0ZWMgNCAvLyAiZCIKICAgIGZyYW1lX2RpZyAtMwogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDgwCiAgICAvLyBpZiAodGhpcy5hbGxEZXBvc2l0cyhhc3NldElkKS5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogQ3JlYXRlR2FtZVdpdGhBcmMyMDBUb2tlbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDgxCiAgICAvLyBwcmV2RGVwb3NpdCA9IHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUKICAgIGZyYW1lX2RpZyA0CiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDMKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCgpDcmVhdGVHYW1lV2l0aEFyYzIwMFRva2VuX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDg0CiAgICAvLyB0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLnZhbHVlID0gbmV3IFVpbnROMjU2KHByZXZEZXBvc2l0Lm5hdGl2ZSArIEJpZ1VpbnQoZGVwb3NpdCkpCiAgICBmcmFtZV9kaWcgMwogICAgZnJhbWVfZGlnIDIKICAgIGIrCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzEgLy8gMzIKICAgIGJ6ZXJvCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgYnwKICAgIGZyYW1lX2RpZyA0CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ4Ny00OTcKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IGFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgIG1ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXJGcm9tKGFkZHJlc3MsYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwKICAgIC8vICAgICAgIG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICAgICAgbmV3IEFkZHJlc3MoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpLAogICAgLy8gICAgICAgYW1vdW50LAogICAgLy8gICAgIF0sCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0ODkKICAgIC8vIGFwcElkOiBhc3NldElkLm5hdGl2ZSwKICAgIGZyYW1lX2RpZyAtMwogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0OTIKICAgIC8vIG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0OTMKICAgIC8vIG5ldyBBZGRyZXNzKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKSwKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjQ5MQogICAgLy8gbWV0aG9kU2VsZWN0b3IoJ2FyYzIwMF90cmFuc2ZlckZyb20oYWRkcmVzcyxhZGRyZXNzLHVpbnQyNTYpYm9vbCcpLAogICAgYnl0ZWMgMTUgLy8gbWV0aG9kICJhcmMyMDBfdHJhbnNmZXJGcm9tKGFkZHJlc3MsYWRkcmVzcyx1aW50MjU2KWJvb2wiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgc3dhcAogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uSUQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDg3LTQ5NgogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgbWV0aG9kU2VsZWN0b3IoJ2FyYzIwMF90cmFuc2ZlckZyb20oYWRkcmVzcyxhZGRyZXNzLHVpbnQyNTYpYm9vbCcpLAogICAgLy8gICAgICAgbmV3IEFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcyksCiAgICAvLyAgICAgICBhbW91bnQsCiAgICAvLyAgICAgXSwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NDg3LTQ5NwogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgbWV0aG9kU2VsZWN0b3IoJ2FyYzIwMF90cmFuc2ZlckZyb20oYWRkcmVzcyxhZGRyZXNzLHVpbnQyNTYpYm9vbCcpLAogICAgLy8gICAgICAgbmV3IEFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcyksCiAgICAvLyAgICAgICBhbW91bnQsCiAgICAvLyAgICAgXSwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo0OTktNTAyCiAgICAvLyBjb25zdCBrZXkgPSBuZXcgQWRkcmVzc0Fzc2V0U3RydWN0KHsKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBmcmFtZV9kaWcgLTMKICAgIGZyYW1lX2RpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQxCiAgICAvLyBwdWJsaWMgZ2FtZXMgPSBCb3hNYXA8QWRkcmVzc0Fzc2V0U3RydWN0LCBHYW1lU3RydWN0Pih7IGtleVByZWZpeDogJ2cnIH0pCiAgICBieXRlY18zIC8vICJnIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTAzCiAgICAvLyBpZiAodGhpcy5nYW1lcyhrZXkpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBDcmVhdGVHYW1lV2l0aEFyYzIwMFRva2VuX2Vsc2VfYm9keUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUwNAogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5pc05hdGl2ZVRva2VuID09PSBuZXcgQm9vbChmYWxzZSksICdUaGUgcHJldmlvdXMgZ2FtZSB3YXMgZm9yIHRoZSBuYXRpdmUgdG9rZW4nKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA3IC8vIDMyMAogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICA9PQogICAgYXNzZXJ0IC8vIFRoZSBwcmV2aW91cyBnYW1lIHdhcyBmb3IgdGhlIG5hdGl2ZSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MDUKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkudmFsdWUuaXNBcmMyMDBUb2tlbiA9PT0gbmV3IEJvb2wodHJ1ZSksICdUaGUgcHJldmlvdXMgZ2FtZSB3YXMgTk9UIGZvciB0aGUgYXJjMjAwIHRva2VuJykKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGMgNiAvLyAzMjIKICAgIGdldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjIDggLy8gMHg4MAogICAgPT0KICAgIGFzc2VydCAvLyBUaGUgcHJldmlvdXMgZ2FtZSB3YXMgTk9UIGZvciB0aGUgYXJjMjAwIHRva2VuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUwNgogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5pc0FTQVRva2VuID09PSBuZXcgQm9vbChmYWxzZSksICdUaGUgcHJldmlvdXMgZ2FtZSB3YXMgZm9yIHRoZSBBU0EgdG9rZW4nKQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50YyA1IC8vIDMyMQogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICA9PQogICAgYXNzZXJ0IC8vIFRoZSBwcmV2aW91cyBnYW1lIHdhcyBmb3IgdGhlIEFTQSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MDcKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkudmFsdWUuYXNzZXRJZCA9PT0gYXNzZXRJZCwgJ1RoZSBwcmV2aW91cyBnYW1lIHdhcyBub3QgZm9yIHRoZSBzYW1lIHRva2VuJykKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMzIgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGZyYW1lX2RpZyAtMwogICAgPT0KICAgIGFzc2VydCAvLyBUaGUgcHJldmlvdXMgZ2FtZSB3YXMgbm90IGZvciB0aGUgc2FtZSB0b2tlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MTAKICAgIC8vIGNvbnN0IG9sZEJhbGFuY2UgPSB0aGlzLmdhbWVzKGtleSkudmFsdWUuYmFsYW5jZQogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MTEKICAgIC8vIHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5iYWxhbmNlID0gbmV3IFVpbnROMjU2KG9sZEJhbGFuY2UubmF0aXZlICsgQmlnVWludChkZXBvc2l0KSkKICAgIGZyYW1lX2RpZyAyCiAgICBiKwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZnJhbWVfZGlnIDAKICAgIGJ8CiAgICBkaWcgMQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIHJlcGxhY2UyIDAKICAgIGRpZyAxCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUxMgogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlLndpblJhdGlvID0gd2luUmF0aW8KICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGZyYW1lX2RpZyAtMQogICAgcmVwbGFjZTIgMTI5CiAgICBib3hfcHV0CiAgICByZXRzdWIKCkNyZWF0ZUdhbWVXaXRoQXJjMjAwVG9rZW5fZWxzZV9ib2R5QDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUxNgogICAgLy8gYmFsYW5jZTogbmV3IFVpbnROMjU2KGRlcG9zaXQpLAogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGZyYW1lX2RpZyAwCiAgICBifAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MTUtNTMwCiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBHYW1lU3RydWN0KHsKICAgIC8vICAgYmFsYW5jZTogbmV3IFVpbnROMjU2KGRlcG9zaXQpLAogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBpc0FyYzIwMFRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAKICAgIC8vICAgbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgd2luUmF0aW86IHdpblJhdGlvLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gfSkKICAgIGZyYW1lX2RpZyAtMwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUxOQogICAgLy8gaXNOYXRpdmVUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgYnl0ZWNfMCAvLyAweDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUxNS01MzAKICAgIC8vIGNvbnN0IG5ld1ZhbHVlID0gbmV3IEdhbWVTdHJ1Y3QoewogICAgLy8gICBiYWxhbmNlOiBuZXcgVWludE4yNTYoZGVwb3NpdCksCiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIGlzQXJjMjAwVG9rZW46IG5ldyBCb29sKHRydWUpLAogICAgLy8gICBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzQVNBVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vIAogICAgLy8gICBsYXN0UGxheWVkVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICB3aW5SYXRpbzogd2luUmF0aW8sCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgY29uY2F0CiAgICBpbnRjIDUgLy8gMzIxCiAgICBpbnRjXzAgLy8gMAogICAgc2V0Yml0CiAgICBpbnRjIDYgLy8gMzIyCiAgICBpbnRjXzIgLy8gMQogICAgc2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUyMgogICAgLy8gbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTE1LTUzMAogICAgLy8gY29uc3QgbmV3VmFsdWUgPSBuZXcgR2FtZVN0cnVjdCh7CiAgICAvLyAgIGJhbGFuY2U6IG5ldyBVaW50TjI1NihkZXBvc2l0KSwKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgaXNBcmMyMDBUb2tlbjogbmV3IEJvb2wodHJ1ZSksCiAgICAvLyAgIGlzTmF0aXZlVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNBU0FUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gCiAgICAvLyAgIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHdpblJhdGlvOiB3aW5SYXRpbywKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTIzCiAgICAvLyBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICBieXRlY18yIC8vIDB4MDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MTUtNTMwCiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBHYW1lU3RydWN0KHsKICAgIC8vICAgYmFsYW5jZTogbmV3IFVpbnROMjU2KGRlcG9zaXQpLAogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBpc0FyYzIwMFRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAKICAgIC8vICAgbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgd2luUmF0aW86IHdpblJhdGlvLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MjQKICAgIC8vIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIGJ5dGVjXzEgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUxNS01MzAKICAgIC8vIGNvbnN0IG5ld1ZhbHVlID0gbmV3IEdhbWVTdHJ1Y3QoewogICAgLy8gICBiYWxhbmNlOiBuZXcgVWludE4yNTYoZGVwb3NpdCksCiAgICAvLyAgIGFzc2V0SWQ6IGFzc2V0SWQsCiAgICAvLyAgIGlzQXJjMjAwVG9rZW46IG5ldyBCb29sKHRydWUpLAogICAgLy8gICBpc05hdGl2ZVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAgIGlzQVNBVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vIAogICAgLy8gICBsYXN0UGxheWVkVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5UaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vIAogICAgLy8gICB3aW5SYXRpbzogd2luUmF0aW8sCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjUyNgogICAgLy8gYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTE1LTUzMAogICAgLy8gY29uc3QgbmV3VmFsdWUgPSBuZXcgR2FtZVN0cnVjdCh7CiAgICAvLyAgIGJhbGFuY2U6IG5ldyBVaW50TjI1NihkZXBvc2l0KSwKICAgIC8vICAgYXNzZXRJZDogYXNzZXRJZCwKICAgIC8vICAgaXNBcmMyMDBUb2tlbjogbmV3IEJvb2wodHJ1ZSksCiAgICAvLyAgIGlzTmF0aXZlVG9rZW46IG5ldyBCb29sKGZhbHNlKSwKICAgIC8vICAgaXNBU0FUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gCiAgICAvLyAgIGxhc3RQbGF5ZWRUaW1lOiBuZXcgVWludE42NCgwKSwKICAgIC8vICAgbGFzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICAvLyAgIGJpZ2dlc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpblRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gCiAgICAvLyAgIHdpblJhdGlvOiB3aW5SYXRpbywKICAgIC8vICAgb3duZXI6IHNlbmRlciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTI1CiAgICAvLyBiaWdnZXN0V2luQW1vdW50OiBuZXcgVWludE4yNTYoMCksCiAgICBieXRlY18xIC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1MTUtNTMwCiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBHYW1lU3RydWN0KHsKICAgIC8vICAgYmFsYW5jZTogbmV3IFVpbnROMjU2KGRlcG9zaXQpLAogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBpc0FyYzIwMFRva2VuOiBuZXcgQm9vbCh0cnVlKSwKICAgIC8vICAgaXNOYXRpdmVUb2tlbjogbmV3IEJvb2woZmFsc2UpLAogICAgLy8gICBpc0FTQVRva2VuOiBuZXcgQm9vbChmYWxzZSksCiAgICAvLyAKICAgIC8vICAgbGFzdFBsYXllZFRpbWU6IG5ldyBVaW50TjY0KDApLAogICAgLy8gICBsYXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAgIGxhc3RXaW5BbW91bnQ6IG5ldyBVaW50TjI1NigwKSwKICAgIC8vICAgYmlnZ2VzdFdpbkFtb3VudDogbmV3IFVpbnROMjU2KDApLAogICAgLy8gICBiaWdnZXN0V2luVGltZTogbmV3IFVpbnRONjQoMCksCiAgICAvLyAKICAgIC8vICAgd2luUmF0aW86IHdpblJhdGlvLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gfSkKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyAxCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTMxCiAgICAvLyB0aGlzLmdhbWVzKGtleSkudmFsdWUgPSBuZXdWYWx1ZS5jb3B5KCkKICAgIGJveF9wdXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6OkF2bVNhdG9zaGlEaWNlLlN0YXJ0R2FtZVdpdGhOYXRpdmVUb2tlbih0eG5EZXBvc2l0OiB1aW50NjQsIGdhbWU6IGJ5dGVzLCB3aW5Qcm9iYWJpbGl0eTogYnl0ZXMpIC0+IHZvaWQ6ClN0YXJ0R2FtZVdpdGhOYXRpdmVUb2tlbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTQzLTU0OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBTdGFydEdhbWVXaXRoTmF0aXZlVG9rZW4oCiAgICAvLyAgIHR4bkRlcG9zaXQ6IGd0eG4uUGF5bWVudFR4biwKICAgIC8vICAgZ2FtZTogQWRkcmVzc0Fzc2V0U3RydWN0LAogICAgLy8gICB3aW5Qcm9iYWJpbGl0eTogVWludE42NCwKICAgIC8vICk6IHZvaWQgewogICAgcHJvdG8gMyAwCiAgICBpbnRjXzAgLy8gMAogICAgZHVwCiAgICBwdXNoYnl0ZXMgIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTQ5CiAgICAvLyBjb25zdCBzZW5kZXIgPSBuZXcgYXJjNC5BZGRyZXNzKHR4bkRlcG9zaXQuc2VuZGVyKQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBTZW5kZXIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NTEKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0eG5EZXBvc2l0LnNlbmRlciwgJ1NlbmRlciBvZiB0aGUgYXBwIGNhbGwgbXVzdCBiZSB0aGUgc2FtZSBhcyBzZW5kZXIgb2YgdGhlIGRlcG9zaXQnKQogICAgdHhuIFNlbmRlcgogICAgZGlnIDEKICAgID09CiAgICBhc3NlcnQgLy8gU2VuZGVyIG9mIHRoZSBhcHAgY2FsbCBtdXN0IGJlIHRoZSBzYW1lIGFzIHNlbmRlciBvZiB0aGUgZGVwb3NpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NTIKICAgIC8vIGFzc2VydChnYW1lLmFzc2V0SWQgPT09IGFzc2V0SWQsICdBc3NldCBpZCBpbiB0aGUgdHggZG9lcyBub3QgbWF0Y2ggdGhlIGdhbWUgYXNzZXQgaWQnKQogICAgZnJhbWVfZGlnIC0yCiAgICBleHRyYWN0IDAgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NTAKICAgIC8vIGNvbnN0IGFzc2V0SWQgPSBuZXcgVWludE42NCgwKQogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTUyCiAgICAvLyBhc3NlcnQoZ2FtZS5hc3NldElkID09PSBhc3NldElkLCAnQXNzZXQgaWQgaW4gdGhlIHR4IGRvZXMgbm90IG1hdGNoIHRoZSBnYW1lIGFzc2V0IGlkJykKICAgID09CiAgICBhc3NlcnQgLy8gQXNzZXQgaWQgaW4gdGhlIHR4IGRvZXMgbm90IG1hdGNoIHRoZSBnYW1lIGFzc2V0IGlkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MQogICAgLy8gcHVibGljIGdhbWVzID0gQm94TWFwPEFkZHJlc3NBc3NldFN0cnVjdCwgR2FtZVN0cnVjdD4oeyBrZXlQcmVmaXg6ICdnJyB9KQogICAgYnl0ZWNfMyAvLyAiZyIKICAgIGZyYW1lX2RpZyAtMgogICAgY29uY2F0CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTUzCiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lKS5leGlzdHMsICdUaGUgZ2FtZSBkb2VzIG5vdCBleGlzdCcpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIFRoZSBnYW1lIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjU1NAogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoZ2FtZSkudmFsdWUuYXNzZXRJZCA9PT0gYXNzZXRJZCwgJ1RoaXMgZ2FtZSBtdXN0IGJlIHBsYXllZCB3aXRoIG5hdGl2ZSB0b2tlbicpCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAzMiA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NTAKICAgIC8vIGNvbnN0IGFzc2V0SWQgPSBuZXcgVWludE42NCgwKQogICAgYnl0ZWNfMiAvLyAweDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTU0CiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lKS52YWx1ZS5hc3NldElkID09PSBhc3NldElkLCAnVGhpcyBnYW1lIG11c3QgYmUgcGxheWVkIHdpdGggbmF0aXZlIHRva2VuJykKICAgID09CiAgICBhc3NlcnQgLy8gVGhpcyBnYW1lIG11c3QgYmUgcGxheWVkIHdpdGggbmF0aXZlIHRva2VuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjU1NQogICAgLy8gYXNzZXJ0KHdpblByb2JhYmlsaXR5Lm5hdGl2ZSA8PSAxXzAwMF8wMDAsICdXaW4gcHJvYmFiaWxpdHkgbXVzdCBiZSBiZWxvdyAxIDAwMCAwMDAnKQogICAgZnJhbWVfZGlnIC0xCiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGMgNCAvLyAxMDAwMDAwCiAgICA8PQogICAgYXNzZXJ0IC8vIFdpbiBwcm9iYWJpbGl0eSBtdXN0IGJlIGJlbG93IDEgMDAwIDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDIKICAgIC8vIHB1YmxpYyBwbGF5cyA9IEJveE1hcDxBZGRyZXNzLCBQbGF5U3RydWN0Pih7IGtleVByZWZpeDogJ3AnIH0pCiAgICBieXRlYyA2IC8vICJwIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTU3CiAgICAvLyBpZiAodGhpcy5wbGF5cyhzZW5kZXIpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBTdGFydEdhbWVXaXRoTmF0aXZlVG9rZW5fYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjU1OQogICAgLy8gYXNzZXJ0KHRoaXMucGxheXMoc2VuZGVyKS52YWx1ZS5zdGF0ZS5uYXRpdmUgPiAxLCAnWW91ciBwcmV2aW91cyBnYW1lIGhhcyBub3QgeWV0IGJlZW4gY2xhaW1lZCcpCiAgICBmcmFtZV9kaWcgNwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18yIC8vIDEKICAgID4KICAgIGFzc2VydCAvLyBZb3VyIHByZXZpb3VzIGdhbWUgaGFzIG5vdCB5ZXQgYmVlbiBjbGFpbWVkCgpTdGFydEdhbWVXaXRoTmF0aXZlVG9rZW5fYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NjgKICAgIC8vIGNvbnN0IHdpbkFtb3VudCA9IG5ldyBVaW50TjI1NihCaWdVaW50KCh0eG5EZXBvc2l0LmFtb3VudCAqIDFfMDAwXzAwMCkgLyB3aW5Qcm9iYWJpbGl0eS5uYXRpdmUpKQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBBbW91bnQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICBpbnRjIDQgLy8gMTAwMDAwMAogICAgKgogICAgZnJhbWVfZGlnIDYKICAgIC8KICAgIGl0b2IKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMSAvLyAzMgogICAgYnplcm8KICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICBifAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NzAKICAgIC8vIHRoaXMuZ2FtZXMoZ2FtZSkudmFsdWUuYmFsYW5jZS5uYXRpdmUgPj0gd2luQW1vdW50Lm5hdGl2ZSwKICAgIGZyYW1lX2RpZyA1CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYjw9CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjU2OS01NzIKICAgIC8vIGFzc2VydCgKICAgIC8vICAgdGhpcy5nYW1lcyhnYW1lKS52YWx1ZS5iYWxhbmNlLm5hdGl2ZSA+PSB3aW5BbW91bnQubmF0aXZlLAogICAgLy8gICAnVGhlIGdhbWUgZG9lcyBub3QgaGF2ZSBlbm91Z2ggYmFsYW5jZSBmb3IgeW91ciB3aW4gc2NlbmFyaW8nLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIFRoZSBnYW1lIGRvZXMgbm90IGhhdmUgZW5vdWdoIGJhbGFuY2UgZm9yIHlvdXIgd2luIHNjZW5hcmlvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjU3NAogICAgLy8gbGV0IHByZXZEZXBvc2l0OiBVaW50TjI1NiA9IG5ldyBVaW50TjI1NigwKQogICAgYnl0ZWNfMSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIHB1YmxpYyBhbGxEZXBvc2l0cyA9IEJveE1hcDxVaW50TjY0LCBVaW50TjI1Nj4oeyBrZXlQcmVmaXg6ICdkJyB9KQogICAgYnl0ZWMgNSAvLyAweDY0MDAwMDAwMDAwMDAwMDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NzUKICAgIC8vIGlmICh0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBTdGFydEdhbWVXaXRoTmF0aXZlVG9rZW5fYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MwogICAgLy8gcHVibGljIGFsbERlcG9zaXRzID0gQm94TWFwPFVpbnRONjQsIFVpbnROMjU2Pih7IGtleVByZWZpeDogJ2QnIH0pCiAgICBieXRlYyA1IC8vIDB4NjQwMDAwMDAwMDAwMDAwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjU3NgogICAgLy8gcHJldkRlcG9zaXQgPSB0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCgpTdGFydEdhbWVXaXRoTmF0aXZlVG9rZW5fYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1NzgKICAgIC8vIHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUgPSBuZXcgVWludE4yNTYocHJldkRlcG9zaXQubmF0aXZlICsgQmlnVWludCh0eG5EZXBvc2l0LmFtb3VudCkpCiAgICBmcmFtZV9kaWcgMgogICAgaXRvYgogICAgZnJhbWVfZGlnIDEKICAgIGRpZyAxCiAgICBiKwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZnJhbWVfZGlnIDAKICAgIGR1cAogICAgY292ZXIgMgogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBwdWJsaWMgYWxsRGVwb3NpdHMgPSBCb3hNYXA8VWludE42NCwgVWludE4yNTY+KHsga2V5UHJlZml4OiAnZCcgfSkKICAgIGJ5dGVjIDUgLy8gMHg2NDAwMDAwMDAwMDAwMDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTc4CiAgICAvLyB0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLnZhbHVlID0gbmV3IFVpbnROMjU2KHByZXZEZXBvc2l0Lm5hdGl2ZSArIEJpZ1VpbnQodHhuRGVwb3NpdC5hbW91bnQpKQogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1ODEKICAgIC8vIHJvdW5kOiBuZXcgVWludE42NChHbG9iYWwucm91bmQpLAogICAgZ2xvYmFsIFJvdW5kCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjU4NAogICAgLy8gZGVwb3NpdDogbmV3IFVpbnROMjU2KEJpZ1VpbnQodHhuRGVwb3NpdC5hbW91bnQpKSwKICAgIGRpZyAyCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgY292ZXIgMgogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NTg2CiAgICAvLyBnYW1lQ3JlYXRvcjogZ2FtZS5vd25lciwKICAgIGZyYW1lX2RpZyAtMgogICAgZXh0cmFjdCA4IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1ODIKICAgIC8vIHN0YXRlOiBuZXcgVWludE42NCgxKSwKICAgIGJ5dGVjIDEyIC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1ODAtNTg4CiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBQbGF5U3RydWN0KHsKICAgIC8vICAgcm91bmQ6IG5ldyBVaW50TjY0KEdsb2JhbC5yb3VuZCksCiAgICAvLyAgIHN0YXRlOiBuZXcgVWludE42NCgxKSwKICAgIC8vICAgd2luUHJvYmFiaWxpdHk6IHdpblByb2JhYmlsaXR5LAogICAgLy8gICBkZXBvc2l0OiBuZXcgVWludE4yNTYoQmlnVWludCh0eG5EZXBvc2l0LmFtb3VudCkpLAogICAgLy8gICBvd25lcjogc2VuZGVyLAogICAgLy8gICBnYW1lQ3JlYXRvcjogZ2FtZS5vd25lciwKICAgIC8vICAgYXNzZXRJZDogZ2FtZS5hc3NldElkLAogICAgLy8gfSkKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyA0CiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIDMKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo1OTAKICAgIC8vIHRoaXMucGxheXMoc2VuZGVyKS52YWx1ZSA9IG5ld1ZhbHVlLmNvcHkoKQogICAgZnJhbWVfZGlnIDcKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6OkF2bVNhdG9zaGlEaWNlLlN0YXJ0R2FtZVdpdGhBU0FUb2tlbih0eG5EZXBvc2l0OiB1aW50NjQsIGdhbWU6IGJ5dGVzLCB3aW5Qcm9iYWJpbGl0eTogYnl0ZXMpIC0+IHZvaWQ6ClN0YXJ0R2FtZVdpdGhBU0FUb2tlbjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjAyLTYwNwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKCkKICAgIC8vIHB1YmxpYyBTdGFydEdhbWVXaXRoQVNBVG9rZW4oCiAgICAvLyAgIHR4bkRlcG9zaXQ6IGd0eG4uQXNzZXRUcmFuc2ZlclR4biwKICAgIC8vICAgZ2FtZTogQWRkcmVzc0Fzc2V0U3RydWN0LAogICAgLy8gICB3aW5Qcm9iYWJpbGl0eTogVWludE42NCwKICAgIC8vICk6IHZvaWQgewogICAgcHJvdG8gMyAwCiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiAyCiAgICBwdXNoYnl0ZXMgIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjA4CiAgICAvLyBjb25zdCBzZW5kZXIgPSBuZXcgYXJjNC5BZGRyZXNzKHR4bkRlcG9zaXQuc2VuZGVyKQogICAgZnJhbWVfZGlnIC0zCiAgICBndHhucyBTZW5kZXIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MDkKICAgIC8vIGNvbnN0IGFzc2V0SWQgPSBuZXcgVWludE42NCh0eG5EZXBvc2l0LnhmZXJBc3NldC5pZCkKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgWGZlckFzc2V0CiAgICBpdG9iCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MTAKICAgIC8vIGFzc2VydChUeG4uc2VuZGVyID09PSB0eG5EZXBvc2l0LnNlbmRlciwgJ1NlbmRlciBvZiB0aGUgYXBwIGNhbGwgbXVzdCBiZSB0aGUgc2FtZSBhcyBzZW5kZXIgb2YgdGhlIGRlcG9zaXQnKQogICAgdHhuIFNlbmRlcgogICAgZGlnIDEKICAgID09CiAgICBhc3NlcnQgLy8gU2VuZGVyIG9mIHRoZSBhcHAgY2FsbCBtdXN0IGJlIHRoZSBzYW1lIGFzIHNlbmRlciBvZiB0aGUgZGVwb3NpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MTEKICAgIC8vIGFzc2VydChnYW1lLmFzc2V0SWQubmF0aXZlID09PSBhc3NldElkLm5hdGl2ZSwgJ0Fzc2V0IGlkIGluIHRoZSB0eCBkb2VzIG5vdCBtYXRjaCB0aGUgZ2FtZSBhc3NldCBpZCcpCiAgICBmcmFtZV9kaWcgLTIKICAgIGV4dHJhY3QgMCA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgY292ZXIgMgogICAgZnJhbWVfZGlnIC0yCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIGRpZyAyCiAgICBidG9pCiAgICA9PQogICAgYXNzZXJ0IC8vIEFzc2V0IGlkIGluIHRoZSB0eCBkb2VzIG5vdCBtYXRjaCB0aGUgZ2FtZSBhc3NldCBpZAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDEKICAgIC8vIHB1YmxpYyBnYW1lcyA9IEJveE1hcDxBZGRyZXNzQXNzZXRTdHJ1Y3QsIEdhbWVTdHJ1Y3Q+KHsga2V5UHJlZml4OiAnZycgfSkKICAgIGJ5dGVjXzMgLy8gImciCiAgICBmcmFtZV9kaWcgLTIKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjYxMgogICAgLy8gYXNzZXJ0KHRoaXMuZ2FtZXMoZ2FtZSkuZXhpc3RzLCAnVGhlIGdhbWUgZG9lcyBub3QgZXhpc3QnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBUaGUgZ2FtZSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MTMKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGdhbWUpLnZhbHVlLmFzc2V0SWQgPT09IGFzc2V0SWQsICdUaGlzIGdhbWUgbXVzdCBiZSBwbGF5ZWQgd2l0aCBuYXRpdmUgdG9rZW4nKQogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGV4dHJhY3QgMzIgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIHVuY292ZXIgMgogICAgPT0KICAgIGFzc2VydCAvLyBUaGlzIGdhbWUgbXVzdCBiZSBwbGF5ZWQgd2l0aCBuYXRpdmUgdG9rZW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjE0CiAgICAvLyBhc3NlcnQod2luUHJvYmFiaWxpdHkubmF0aXZlIDw9IDFfMDAwXzAwMCwgJ1dpbiBwcm9iYWJpbGl0eSBtdXN0IGJlIGJlbG93IDEgMDAwIDAwMCcpCiAgICBmcmFtZV9kaWcgLTEKICAgIGJ0b2kKICAgIGR1cAogICAgY292ZXIgMgogICAgaW50YyA0IC8vIDEwMDAwMDAKICAgIDw9CiAgICBhc3NlcnQgLy8gV2luIHByb2JhYmlsaXR5IG11c3QgYmUgYmVsb3cgMSAwMDAgMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MgogICAgLy8gcHVibGljIHBsYXlzID0gQm94TWFwPEFkZHJlc3MsIFBsYXlTdHJ1Y3Q+KHsga2V5UHJlZml4OiAncCcgfSkKICAgIGJ5dGVjIDYgLy8gInAiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MTYKICAgIC8vIGlmICh0aGlzLnBsYXlzKHNlbmRlcikuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IFN0YXJ0R2FtZVdpdGhBU0FUb2tlbl9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjE4CiAgICAvLyBhc3NlcnQodGhpcy5wbGF5cyhzZW5kZXIpLnZhbHVlLnN0YXRlLm5hdGl2ZSA+IDEsICdZb3VyIHByZXZpb3VzIGdhbWUgaGFzIG5vdCB5ZXQgYmVlbiBjbGFpbWVkJykKICAgIGZyYW1lX2RpZyA5CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDY0CiAgICBpbnRjXzIgLy8gMQogICAgPgogICAgYXNzZXJ0IC8vIFlvdXIgcHJldmlvdXMgZ2FtZSBoYXMgbm90IHlldCBiZWVuIGNsYWltZWQKClN0YXJ0R2FtZVdpdGhBU0FUb2tlbl9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjYyNwogICAgLy8gY29uc3Qgd2luQW1vdW50ID0gbmV3IFVpbnROMjU2KEJpZ1VpbnQoKHR4bkRlcG9zaXQuYXNzZXRBbW91bnQgKiAxXzAwMF8wMDApIC8gd2luUHJvYmFiaWxpdHkubmF0aXZlKSkKICAgIGZyYW1lX2RpZyAtMwogICAgZ3R4bnMgQXNzZXRBbW91bnQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAzCiAgICBpbnRjIDQgLy8gMTAwMDAwMAogICAgKgogICAgZnJhbWVfZGlnIDgKICAgIC8KICAgIGl0b2IKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMSAvLyAzMgogICAgYnplcm8KICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICBifAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MjkKICAgIC8vIHRoaXMuZ2FtZXMoZ2FtZSkudmFsdWUuYmFsYW5jZS5uYXRpdmUgPj0gd2luQW1vdW50Lm5hdGl2ZSwKICAgIGZyYW1lX2RpZyA3CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYjw9CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjYyOC02MzEKICAgIC8vIGFzc2VydCgKICAgIC8vICAgdGhpcy5nYW1lcyhnYW1lKS52YWx1ZS5iYWxhbmNlLm5hdGl2ZSA+PSB3aW5BbW91bnQubmF0aXZlLAogICAgLy8gICAnVGhlIGdhbWUgZG9lcyBub3QgaGF2ZSBlbm91Z2ggYmFsYW5jZSBmb3IgeW91ciB3aW4gc2NlbmFyaW8nLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIFRoZSBnYW1lIGRvZXMgbm90IGhhdmUgZW5vdWdoIGJhbGFuY2UgZm9yIHlvdXIgd2luIHNjZW5hcmlvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjYzMwogICAgLy8gbGV0IHByZXZEZXBvc2l0OiBVaW50TjI1NiA9IG5ldyBVaW50TjI1NigwKQogICAgYnl0ZWNfMSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIHB1YmxpYyBhbGxEZXBvc2l0cyA9IEJveE1hcDxVaW50TjY0LCBVaW50TjI1Nj4oeyBrZXlQcmVmaXg6ICdkJyB9KQogICAgYnl0ZWMgNCAvLyAiZCIKICAgIGZyYW1lX2RpZyA1CiAgICBjb25jYXQKICAgIGR1cAogICAgZnJhbWVfYnVyeSAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjYzNAogICAgLy8gaWYgKHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IFN0YXJ0R2FtZVdpdGhBU0FUb2tlbl9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjM1CiAgICAvLyBwcmV2RGVwb3NpdCA9IHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUKICAgIGZyYW1lX2RpZyAyCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDEKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCgpTdGFydEdhbWVXaXRoQVNBVG9rZW5fYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MzcKICAgIC8vIHRoaXMuYWxsRGVwb3NpdHMoYXNzZXRJZCkudmFsdWUgPSBuZXcgVWludE4yNTYocHJldkRlcG9zaXQubmF0aXZlICsgQmlnVWludCh0eG5EZXBvc2l0LmFzc2V0QW1vdW50KSkKICAgIGZyYW1lX2RpZyAzCiAgICBpdG9iCiAgICBmcmFtZV9kaWcgMQogICAgZGlnIDEKICAgIGIrCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBmcmFtZV9kaWcgMAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBifAogICAgZnJhbWVfZGlnIDIKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjQwCiAgICAvLyByb3VuZDogbmV3IFVpbnRONjQoR2xvYmFsLnJvdW5kKSwKICAgIGdsb2JhbCBSb3VuZAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2NDMKICAgIC8vIGRlcG9zaXQ6IG5ldyBVaW50TjI1NihCaWdVaW50KHR4bkRlcG9zaXQuYXNzZXRBbW91bnQpKSwKICAgIGRpZyAyCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgY292ZXIgMgogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjQ1CiAgICAvLyBnYW1lQ3JlYXRvcjogZ2FtZS5vd25lciwKICAgIGZyYW1lX2RpZyAtMgogICAgZXh0cmFjdCA4IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2NDEKICAgIC8vIHN0YXRlOiBuZXcgVWludE42NCgxKSwKICAgIGJ5dGVjIDEyIC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2MzktNjQ3CiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBQbGF5U3RydWN0KHsKICAgIC8vICAgcm91bmQ6IG5ldyBVaW50TjY0KEdsb2JhbC5yb3VuZCksCiAgICAvLyAgIHN0YXRlOiBuZXcgVWludE42NCgxKSwKICAgIC8vICAgd2luUHJvYmFiaWxpdHk6IHdpblByb2JhYmlsaXR5LAogICAgLy8gICBkZXBvc2l0OiBuZXcgVWludE4yNTYoQmlnVWludCh0eG5EZXBvc2l0LmFzc2V0QW1vdW50KSksCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyAgIGdhbWVDcmVhdG9yOiBnYW1lLm93bmVyLAogICAgLy8gICBhc3NldElkOiBnYW1lLmFzc2V0SWQsCiAgICAvLyB9KQogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIDYKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgNAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjY0OQogICAgLy8gdGhpcy5wbGF5cyhzZW5kZXIpLnZhbHVlID0gbmV3VmFsdWUuY29weSgpCiAgICBmcmFtZV9kaWcgOQogICAgc3dhcAogICAgYm94X3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo6QXZtU2F0b3NoaURpY2UuU3RhcnRHYW1lV2l0aEFyYzIwMFRva2VuKGFtb3VudDogYnl0ZXMsIGFzc2V0SWQ6IGJ5dGVzLCBnYW1lOiBieXRlcywgd2luUHJvYmFiaWxpdHk6IGJ5dGVzKSAtPiB2b2lkOgpTdGFydEdhbWVXaXRoQXJjMjAwVG9rZW46CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjY2MS02NjcKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgU3RhcnRHYW1lV2l0aEFyYzIwMFRva2VuKAogICAgLy8gICBhbW91bnQ6IFVpbnROMjU2LAogICAgLy8gICBhc3NldElkOiBVaW50TjY0LAogICAgLy8gICBnYW1lOiBBZGRyZXNzQXNzZXRTdHJ1Y3QsCiAgICAvLyAgIHdpblByb2JhYmlsaXR5OiBVaW50TjY0LAogICAgLy8gKTogdm9pZCB7CiAgICBwcm90byA0IDAKICAgIGludGNfMCAvLyAwCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjY4CiAgICAvLyBjb25zdCBzZW5kZXIgPSBuZXcgYXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjY5CiAgICAvLyBhc3NlcnQoZ2FtZS5hc3NldElkID09PSBhc3NldElkLCAnQXNzZXQgaWQgaW4gdGhlIHR4IGRvZXMgbm90IG1hdGNoIHRoZSBnYW1lIGFzc2V0IGlkJykKICAgIGZyYW1lX2RpZyAtMgogICAgZXh0cmFjdCAwIDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGZyYW1lX2RpZyAtMwogICAgPT0KICAgIGFzc2VydCAvLyBBc3NldCBpZCBpbiB0aGUgdHggZG9lcyBub3QgbWF0Y2ggdGhlIGdhbWUgYXNzZXQgaWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQxCiAgICAvLyBwdWJsaWMgZ2FtZXMgPSBCb3hNYXA8QWRkcmVzc0Fzc2V0U3RydWN0LCBHYW1lU3RydWN0Pih7IGtleVByZWZpeDogJ2cnIH0pCiAgICBieXRlY18zIC8vICJnIgogICAgZnJhbWVfZGlnIC0yCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2NzAKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGdhbWUpLmV4aXN0cywgJ1RoZSBnYW1lIGRvZXMgbm90IGV4aXN0JykKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBhc3NlcnQgLy8gVGhlIGdhbWUgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjcxCiAgICAvLyBhc3NlcnQodGhpcy5nYW1lcyhnYW1lKS52YWx1ZS5hc3NldElkID09PSBhc3NldElkLCAnVGhpcyBnYW1lIG11c3QgYmUgcGxheWVkIHdpdGggbmF0aXZlIHRva2VuJykKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBleHRyYWN0IDMyIDggLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBmcmFtZV9kaWcgLTMKICAgID09CiAgICBhc3NlcnQgLy8gVGhpcyBnYW1lIG11c3QgYmUgcGxheWVkIHdpdGggbmF0aXZlIHRva2VuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjY3MgogICAgLy8gYXNzZXJ0KHdpblByb2JhYmlsaXR5Lm5hdGl2ZSA8PSAxXzAwMF8wMDAsICdXaW4gcHJvYmFiaWxpdHkgbXVzdCBiZSBiZWxvdyAxIDAwMCAwMDAnKQogICAgZnJhbWVfZGlnIC0xCiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGMgNCAvLyAxMDAwMDAwCiAgICA8PQogICAgYXNzZXJ0IC8vIFdpbiBwcm9iYWJpbGl0eSBtdXN0IGJlIGJlbG93IDEgMDAwIDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDIKICAgIC8vIHB1YmxpYyBwbGF5cyA9IEJveE1hcDxBZGRyZXNzLCBQbGF5U3RydWN0Pih7IGtleVByZWZpeDogJ3AnIH0pCiAgICBieXRlYyA2IC8vICJwIgogICAgc3dhcAogICAgY29uY2F0CiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Njc0CiAgICAvLyBpZiAodGhpcy5wbGF5cyhzZW5kZXIpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBTdGFydEdhbWVXaXRoQXJjMjAwVG9rZW5fYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjY3NgogICAgLy8gYXNzZXJ0KHRoaXMucGxheXMoc2VuZGVyKS52YWx1ZS5zdGF0ZS5uYXRpdmUgPiAxLCAnWW91ciBwcmV2aW91cyBnYW1lIGhhcyBub3QgeWV0IGJlZW4gY2xhaW1lZCcpCiAgICBmcmFtZV9kaWcgNwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQ2NAogICAgaW50Y18yIC8vIDEKICAgID4KICAgIGFzc2VydCAvLyBZb3VyIHByZXZpb3VzIGdhbWUgaGFzIG5vdCB5ZXQgYmVlbiBjbGFpbWVkCgpTdGFydEdhbWVXaXRoQXJjMjAwVG9rZW5fYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2ODYtNjk2CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcElkOiBnYW1lLmFzc2V0SWQubmF0aXZlLAogICAgLy8gICAgIGFwcEFyZ3M6IFsKICAgIC8vICAgICAgIG1ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXJGcm9tKGFkZHJlc3MsYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwKICAgIC8vICAgICAgIG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICAgICAgbmV3IEFkZHJlc3MoR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MpLAogICAgLy8gICAgICAgYW1vdW50LAogICAgLy8gICAgIF0sCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2ODgKICAgIC8vIGFwcElkOiBnYW1lLmFzc2V0SWQubmF0aXZlLAogICAgZnJhbWVfZGlnIC0yCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjkxCiAgICAvLyBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NjkyCiAgICAvLyBuZXcgQWRkcmVzcyhHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcyksCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo2OTAKICAgIC8vIG1ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXJGcm9tKGFkZHJlc3MsYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwKICAgIGJ5dGVjIDE1IC8vIG1ldGhvZCAiYXJjMjAwX3RyYW5zZmVyRnJvbShhZGRyZXNzLGFkZHJlc3MsdWludDI1Nilib29sIgogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgQXBwbGljYXRpb25BcmdzCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgZnJhbWVfZGlnIC00CiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjY4Ni02OTUKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogWwogICAgLy8gICAgICAgbWV0aG9kU2VsZWN0b3IoJ2FyYzIwMF90cmFuc2ZlckZyb20oYWRkcmVzcyxhZGRyZXNzLHVpbnQyNTYpYm9vbCcpLAogICAgLy8gICAgICAgbmV3IEFkZHJlc3MoVHhuLnNlbmRlciksCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcyksCiAgICAvLyAgICAgICBhbW91bnQsCiAgICAvLyAgICAgXSwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Njg2LTY5NgogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHBJZDogZ2FtZS5hc3NldElkLm5hdGl2ZSwKICAgIC8vICAgICBhcHBBcmdzOiBbCiAgICAvLyAgICAgICBtZXRob2RTZWxlY3RvcignYXJjMjAwX3RyYW5zZmVyRnJvbShhZGRyZXNzLGFkZHJlc3MsdWludDI1Nilib29sJyksCiAgICAvLyAgICAgICBuZXcgQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgICAgIG5ldyBBZGRyZXNzKEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzKSwKICAgIC8vICAgICAgIGFtb3VudCwKICAgIC8vICAgICBdLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjY5OAogICAgLy8gY29uc3Qgd2luQW1vdW50ID0gbmV3IFVpbnROMjU2KChhbW91bnQubmF0aXZlICogQmlnVWludCgxXzAwMF8wMDApKSAvIEJpZ1VpbnQod2luUHJvYmFiaWxpdHkubmF0aXZlKSkKICAgIGZyYW1lX2RpZyAtNAogICAgYnl0ZWMgMTMgLy8gMHgwZjQyNDAKICAgIGIqCiAgICBmcmFtZV9kaWcgNgogICAgaXRvYgogICAgYi8KICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMSAvLyAzMgogICAgYnplcm8KICAgIGR1cAogICAgZnJhbWVfYnVyeSAwCiAgICBifAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3MDAKICAgIC8vIHRoaXMuZ2FtZXMoZ2FtZSkudmFsdWUuYmFsYW5jZS5uYXRpdmUgPj0gd2luQW1vdW50Lm5hdGl2ZSwKICAgIGZyYW1lX2RpZyA1CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYjw9CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjY5OS03MDIKICAgIC8vIGFzc2VydCgKICAgIC8vICAgdGhpcy5nYW1lcyhnYW1lKS52YWx1ZS5iYWxhbmNlLm5hdGl2ZSA+PSB3aW5BbW91bnQubmF0aXZlLAogICAgLy8gICAnVGhlIGdhbWUgZG9lcyBub3QgaGF2ZSBlbm91Z2ggYmFsYW5jZSBmb3IgeW91ciB3aW4gc2NlbmFyaW8nLAogICAgLy8gKQogICAgYXNzZXJ0IC8vIFRoZSBnYW1lIGRvZXMgbm90IGhhdmUgZW5vdWdoIGJhbGFuY2UgZm9yIHlvdXIgd2luIHNjZW5hcmlvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjcwNAogICAgLy8gbGV0IHByZXZEZXBvc2l0OiBVaW50TjI1NiA9IG5ldyBVaW50TjI1NigwKQogICAgYnl0ZWNfMSAvLyAweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIHB1YmxpYyBhbGxEZXBvc2l0cyA9IEJveE1hcDxVaW50TjY0LCBVaW50TjI1Nj4oeyBrZXlQcmVmaXg6ICdkJyB9KQogICAgYnl0ZWMgNCAvLyAiZCIKICAgIGZyYW1lX2RpZyAtMwogICAgY29uY2F0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3MDUKICAgIC8vIGlmICh0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBTdGFydEdhbWVXaXRoQXJjMjAwVG9rZW5fYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjcwNgogICAgLy8gcHJldkRlcG9zaXQgPSB0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLnZhbHVlCiAgICBmcmFtZV9kaWcgMgogICAgYm94X2dldAogICAgc3dhcAogICAgZnJhbWVfYnVyeSAxCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQoKU3RhcnRHYW1lV2l0aEFyYzIwMFRva2VuX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzA4CiAgICAvLyB0aGlzLmFsbERlcG9zaXRzKGFzc2V0SWQpLnZhbHVlID0gbmV3IFVpbnROMjU2KHByZXZEZXBvc2l0Lm5hdGl2ZSArIGFtb3VudC5uYXRpdmUpCiAgICBmcmFtZV9kaWcgMQogICAgZnJhbWVfZGlnIC00CiAgICBiKwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZnJhbWVfZGlnIDAKICAgIGR1cAogICAgY292ZXIgMgogICAgYnwKICAgIGZyYW1lX2RpZyAyCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjcxMQogICAgLy8gcm91bmQ6IG5ldyBVaW50TjY0KEdsb2JhbC5yb3VuZCksCiAgICBnbG9iYWwgUm91bmQKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzE0CiAgICAvLyBkZXBvc2l0OiBuZXcgVWludE4yNTYoYW1vdW50Lm5hdGl2ZSksCiAgICBmcmFtZV9kaWcgLTQKICAgIHVuY292ZXIgMgogICAgYnwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzE2CiAgICAvLyBnYW1lQ3JlYXRvcjogZ2FtZS5vd25lciwKICAgIGZyYW1lX2RpZyAtMgogICAgZXh0cmFjdCA4IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3MTIKICAgIC8vIHN0YXRlOiBuZXcgVWludE42NCgxKSwKICAgIGJ5dGVjIDEyIC8vIDB4MDAwMDAwMDAwMDAwMDAwMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3MTAtNzE4CiAgICAvLyBjb25zdCBuZXdWYWx1ZSA9IG5ldyBQbGF5U3RydWN0KHsKICAgIC8vICAgcm91bmQ6IG5ldyBVaW50TjY0KEdsb2JhbC5yb3VuZCksCiAgICAvLyAgIHN0YXRlOiBuZXcgVWludE42NCgxKSwKICAgIC8vICAgd2luUHJvYmFiaWxpdHk6IHdpblByb2JhYmlsaXR5LAogICAgLy8gICBkZXBvc2l0OiBuZXcgVWludE4yNTYoYW1vdW50Lm5hdGl2ZSksCiAgICAvLyAgIG93bmVyOiBzZW5kZXIsCiAgICAvLyAgIGdhbWVDcmVhdG9yOiBnYW1lLm93bmVyLAogICAgLy8gICBhc3NldElkOiBnYW1lLmFzc2V0SWQsCiAgICAvLyB9KQogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIDQKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgMwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjcyMAogICAgLy8gdGhpcy5wbGF5cyhzZW5kZXIpLnZhbHVlID0gbmV3VmFsdWUuY29weSgpCiAgICBmcmFtZV9kaWcgNwogICAgc3dhcAogICAgYm94X3B1dAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo6QXZtU2F0b3NoaURpY2UuR2FtZShjcmVhdG9yOiBieXRlcywgYXNzZXRJZDogYnl0ZXMpIC0+IGJ5dGVzOgpHYW1lOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3MjgtNzI5CiAgICAvLyBAYXJjNC5hYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSB9KQogICAgLy8gcHVibGljIEdhbWUoY3JlYXRvcjogQWRkcmVzcywgYXNzZXRJZDogVWludE42NCk6IEdhbWVTdHJ1Y3QgewogICAgcHJvdG8gMiAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjczMC03MzMKICAgIC8vIGNvbnN0IGtleSA9IG5ldyBBZGRyZXNzQXNzZXRTdHJ1Y3QoewogICAgLy8gICBhc3NldElkOiBhc3NldElkLAogICAgLy8gICBvd25lcjogY3JlYXRvciwKICAgIC8vIH0pCiAgICBmcmFtZV9kaWcgLTEKICAgIGZyYW1lX2RpZyAtMgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MQogICAgLy8gcHVibGljIGdhbWVzID0gQm94TWFwPEFkZHJlc3NBc3NldFN0cnVjdCwgR2FtZVN0cnVjdD4oeyBrZXlQcmVmaXg6ICdnJyB9KQogICAgYnl0ZWNfMyAvLyAiZyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3MzQKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkuZXhpc3RzLCAnRGlkIG5vdCBmb3VuZCB0aGUgZ2FtZScpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIERpZCBub3QgZm91bmQgdGhlIGdhbWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzM1CiAgICAvLyByZXR1cm4gdGhpcy5nYW1lcyhrZXkpLnZhbHVlCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo6QXZtU2F0b3NoaURpY2UuTXlHYW1lKCkgLT4gYnl0ZXM6Ck15R2FtZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQyCiAgICAvLyBwdWJsaWMgcGxheXMgPSBCb3hNYXA8QWRkcmVzcywgUGxheVN0cnVjdD4oeyBrZXlQcmVmaXg6ICdwJyB9KQogICAgYnl0ZWMgNiAvLyAicCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzQ0CiAgICAvLyBjb25zdCBzZW5kZXIgPSBuZXcgYXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MgogICAgLy8gcHVibGljIHBsYXlzID0gQm94TWFwPEFkZHJlc3MsIFBsYXlTdHJ1Y3Q+KHsga2V5UHJlZml4OiAncCcgfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3NDUKICAgIC8vIGFzc2VydCh0aGlzLnBsYXlzKHNlbmRlcikuZXhpc3RzLCAnRGlkIG5vdCBmb3VuZCB0aGUgZ2FtZSB5b3UgYXJlIHBsYXlpbmcnKQogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBEaWQgbm90IGZvdW5kIHRoZSBnYW1lIHlvdSBhcmUgcGxheWluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3NDYKICAgIC8vIHJldHVybiB0aGlzLnBsYXlzKHNlbmRlcikudmFsdWUKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjpBdm1TYXRvc2hpRGljZS5DbGFpbUdhbWUoKSAtPiB2b2lkOgpDbGFpbUdhbWU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc1Ni03NTcKICAgIC8vIEBhcmM0LmFiaW1ldGhvZCgpCiAgICAvLyBwdWJsaWMgQ2xhaW1HYW1lKCk6IHZvaWQgewogICAgcHJvdG8gMCAwCiAgICBpbnRjXzAgLy8gMAogICAgZHVwbiA5CiAgICBwdXNoYnl0ZXMgIiIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3NTgKICAgIC8vIGNvbnN0IHNlbmRlciA9IG5ldyBhcmM0LkFkZHJlc3MoVHhuLnNlbmRlcikKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQyCiAgICAvLyBwdWJsaWMgcGxheXMgPSBCb3hNYXA8QWRkcmVzcywgUGxheVN0cnVjdD4oeyBrZXlQcmVmaXg6ICdwJyB9KQogICAgYnl0ZWMgNiAvLyAicCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzU4CiAgICAvLyBjb25zdCBzZW5kZXIgPSBuZXcgYXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MgogICAgLy8gcHVibGljIHBsYXlzID0gQm94TWFwPEFkZHJlc3MsIFBsYXlTdHJ1Y3Q+KHsga2V5UHJlZml4OiAncCcgfSkKICAgIGNvbmNhdAogICAgZHVwbiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc1OQogICAgLy8gYXNzZXJ0KHRoaXMucGxheXMoc2VuZGVyKS5leGlzdHMsICdEaWQgbm90IGZvdW5kIHRoZSBnYW1lIHlvdSBhcmUgcGxheWluZycpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGFzc2VydCAvLyBEaWQgbm90IGZvdW5kIHRoZSBnYW1lIHlvdSBhcmUgcGxheWluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3NjAKICAgIC8vIGNvbnN0IHBsYXkgPSB0aGlzLnBsYXlzKHNlbmRlcikudmFsdWUuY29weSgpCiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzYzCiAgICAvLyBhc3NldElkOiBwbGF5LmFzc2V0SWQsCiAgICBkdXAKICAgIGV4dHJhY3QgNTYgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzY0CiAgICAvLyBvd25lcjogcGxheS5nYW1lQ3JlYXRvciwKICAgIGRpZyAxCiAgICBleHRyYWN0IDY0IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3NjItNzY1CiAgICAvLyBjb25zdCBrZXkgPSBuZXcgQWRkcmVzc0Fzc2V0U3RydWN0KHsKICAgIC8vICAgYXNzZXRJZDogcGxheS5hc3NldElkLAogICAgLy8gICBvd25lcjogcGxheS5nYW1lQ3JlYXRvciwKICAgIC8vIH0pCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDEKICAgIC8vIHB1YmxpYyBnYW1lcyA9IEJveE1hcDxBZGRyZXNzQXNzZXRTdHJ1Y3QsIEdhbWVTdHJ1Y3Q+KHsga2V5UHJlZml4OiAnZycgfSkKICAgIGJ5dGVjXzMgLy8gImciCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgY292ZXIgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3NjYKICAgIC8vIGFzc2VydCh0aGlzLmdhbWVzKGtleSkuZXhpc3RzLCAnRGlkIG5vdCBmb3VuZCB0aGUgZ2FtZScpCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYXNzZXJ0IC8vIERpZCBub3QgZm91bmQgdGhlIGdhbWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzY3CiAgICAvLyBjb25zdCBnYW1lID0gdGhpcy5nYW1lcyhrZXkpLnZhbHVlLmNvcHkoKQogICAgYm94X2dldAogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzcxCiAgICAvLyBpZiAocGxheS5yb3VuZC5uYXRpdmUgPCBHbG9iYWwucm91bmQgLSAxMDApIHsKICAgIHB1c2hpbnQgMTYgLy8gMTYKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGdsb2JhbCBSb3VuZAogICAgcHVzaGludCAxMDAgLy8gMTAwCiAgICAtCiAgICA8CiAgICBieiBDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc3MgogICAgLy8gdGhpcy5Mb29zZUdhbWUoa2V5LCBnYW1lLCBwbGF5LCBzZW5kZXIpCiAgICBmcmFtZV9kaWcgMTUKICAgIGZyYW1lX2RpZyAxNwogICAgZnJhbWVfZGlnIDE0CiAgICBmcmFtZV9kaWcgMTIKICAgIGNhbGxzdWIgTG9vc2VHYW1lCiAgICBwb3BuIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzczCiAgICAvLyByZXR1cm4KICAgIHJldHN1YgoKQ2xhaW1HYW1lX2FmdGVyX2lmX2Vsc2VAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Nzc2CiAgICAvLyBnYW1lLmxhc3RQbGF5ZWRUaW1lID0gbmV3IFVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCkKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIGl0b2IKICAgIGZyYW1lX2RpZyAxNwogICAgc3dhcAogICAgcmVwbGFjZTIgNDEKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxNwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3ODEKICAgIC8vIGNvbnN0IHNlZWQgPSBCaWdVaW50KG9wLkJsb2NrLmJsa1NlZWQocGxheS5yb3VuZC5uYXRpdmUgKyAxKSkKICAgIGZyYW1lX2RpZyAxOAogICAgaW50Y18yIC8vIDEKICAgICsKICAgIGJsb2NrIEJsa1NlZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzgzCiAgICAvLyBjb25zdCByYW5kMF8xOiBiaWd1aW50ID0gc2VlZCAlIEJpZ1VpbnQoMV8wMDBfMDAwKQogICAgYnl0ZWMgMTMgLy8gMHgwZjQyNDAKICAgIGIlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc4NgogICAgLy8gY29uc3Qgd2luVGhyZXNob2xkOiB1aW50NjQgPSAocGxheS53aW5Qcm9iYWJpbGl0eS5uYXRpdmUgKiBnYW1lLndpblJhdGlvLm5hdGl2ZSkgLyAxXzAwMF8wMDAKICAgIGZyYW1lX2RpZyAxNAogICAgaW50Y18zIC8vIDgKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTAKICAgIHVuY292ZXIgMgogICAgcHVzaGludCAxMjkgLy8gMTI5CiAgICBleHRyYWN0X3VpbnQ2NAogICAgKgogICAgaW50YyA0IC8vIDEwMDAwMDAKICAgIC8KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Nzg3CiAgICAvLyBpZiAocmFuZDBfMSA8IEJpZ1VpbnQod2luVGhyZXNob2xkKSkgewogICAgaXRvYgogICAgYjwKICAgIGJ6IENsYWltR2FtZV9lbHNlX2JvZHlAMjEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6NzkxCiAgICAvLyAocGxheS5kZXBvc2l0Lm5hdGl2ZSAqIEJpZ1VpbnQoMV8wMDBfMDAwKSkgLyBCaWdVaW50KHBsYXkud2luUHJvYmFiaWxpdHkubmF0aXZlKSwKICAgIGZyYW1lX2RpZyAxNAogICAgZXh0cmFjdCAyNCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGJ5dGVjIDEzIC8vIDB4MGY0MjQwCiAgICBiKgogICAgZnJhbWVfZGlnIDEwCiAgICBpdG9iCiAgICBiLwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo3OTAtNzkyCiAgICAvLyBjb25zdCB3aW5BbW91bnQ6IGJpZ3VpbnQgPSBCaWdVaW50KAogICAgLy8gICAocGxheS5kZXBvc2l0Lm5hdGl2ZSAqIEJpZ1VpbnQoMV8wMDBfMDAwKSkgLyBCaWdVaW50KHBsYXkud2luUHJvYmFiaWxpdHkubmF0aXZlKSwKICAgIC8vICkKICAgIGR1cAogICAgZnJhbWVfYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc5NAogICAgLy8gZ2FtZS5sYXN0V2luQW1vdW50ID0gbmV3IFVpbnROMjU2KHdpbkFtb3VudCkKICAgIGR1cAogICAgbGVuCiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTEKICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18xIC8vIDMyCiAgICBiemVybwogICAgZHVwCiAgICBmcmFtZV9idXJ5IDEKICAgIGRpZyAxCiAgICBifAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDAKICAgIGZyYW1lX2RpZyAxNwogICAgc3dhcAogICAgcmVwbGFjZTIgNTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Nzk1CiAgICAvLyBnYW1lLmxhc3RXaW5UaW1lID0gbmV3IFVpbnRONjQoR2xvYmFsLmxhdGVzdFRpbWVzdGFtcCkKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIGl0b2IKICAgIHJlcGxhY2UyIDQ5CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMTcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6Nzk2CiAgICAvLyBpZiAod2luQW1vdW50ID4gZ2FtZS5iaWdnZXN0V2luQW1vdW50Lm5hdGl2ZSkgewogICAgZHVwCiAgICBleHRyYWN0IDk3IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgdW5jb3ZlciAyCiAgICBiPAogICAgc3dhcAogICAgZnJhbWVfYnVyeSAyCiAgICBieiBDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc5NwogICAgLy8gZ2FtZS5iaWdnZXN0V2luQW1vdW50ID0gbmV3IFVpbnROMjU2KHdpbkFtb3VudCkKICAgIGZyYW1lX2RpZyAxNwogICAgZnJhbWVfZGlnIDAKICAgIHJlcGxhY2UyIDk3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjc5OAogICAgLy8gZ2FtZS5iaWdnZXN0V2luVGltZSA9IG5ldyBVaW50TjY0KEdsb2JhbC5sYXRlc3RUaW1lc3RhbXApCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBpdG9iCiAgICByZXBsYWNlMiA4OQogICAgZnJhbWVfYnVyeSAyCgpDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUA1OgogICAgZnJhbWVfZGlnIDIKICAgIGR1cAogICAgZnJhbWVfYnVyeSAxNwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4MDEKICAgIC8vIGlmIChnYW1lLmlzTmF0aXZlVG9rZW4ubmF0aXZlKSB7CiAgICBpbnRjIDcgLy8gMzIwCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBieiBDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4MDQKICAgIC8vIGxldCBwcmV2RGVwb3NpdDogVWludE4yNTYgPSBuZXcgVWludE4yNTYoMCkKICAgIGJ5dGVjXzEgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODA1CiAgICAvLyBpZiAodGhpcy5hbGxEZXBvc2l0cyhrZXkuYXNzZXRJZCkuZXhpc3RzKSB7CiAgICBmcmFtZV9kaWcgMTUKICAgIGV4dHJhY3QgMCA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIHB1YmxpYyBhbGxEZXBvc2l0cyA9IEJveE1hcDxVaW50TjY0LCBVaW50TjI1Nj4oeyBrZXlQcmVmaXg6ICdkJyB9KQogICAgYnl0ZWMgNCAvLyAiZCIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODA1CiAgICAvLyBpZiAodGhpcy5hbGxEZXBvc2l0cyhrZXkuYXNzZXRJZCkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IENsYWltR2FtZV9hZnRlcl9pZl9lbHNlQDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODA2CiAgICAvLyBwcmV2RGVwb3NpdCA9IHRoaXMuYWxsRGVwb3NpdHMoa2V5LmFzc2V0SWQpLnZhbHVlCiAgICBmcmFtZV9kaWcgNgogICAgYm94X2dldAogICAgc3dhcAogICAgZnJhbWVfYnVyeSAzCiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQoKQ2xhaW1HYW1lX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODA4CiAgICAvLyBhc3NlcnQocHJldkRlcG9zaXQubmF0aXZlID49IHdpbkFtb3VudCwgJ1RoZXJlIGlzIG5vdCBlbm91Z2ggbW9uZXkgaW4gdGhlIHNjIHRvIGNvdmVyIHRoaXMgd2luIHR4JykKICAgIGZyYW1lX2RpZyAzCiAgICBkdXAKICAgIGZyYW1lX2RpZyA5CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGI+PQogICAgYXNzZXJ0IC8vIFRoZXJlIGlzIG5vdCBlbm91Z2ggbW9uZXkgaW4gdGhlIHNjIHRvIGNvdmVyIHRoaXMgd2luIHR4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjgwOQogICAgLy8gdGhpcy5hbGxEZXBvc2l0cyhrZXkuYXNzZXRJZCkudmFsdWUgPSBuZXcgVWludE4yNTYocHJldkRlcG9zaXQubmF0aXZlIC0gd2luQW1vdW50KQogICAgZGlnIDEKICAgIGItCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBjb3ZlciAzCiAgICBifAogICAgZnJhbWVfZGlnIDYKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODExCiAgICAvLyBhc3NlcnQoZ2FtZS5iYWxhbmNlLm5hdGl2ZSA+PSB3aW5BbW91bnQsICdUaGVyZSBpcyBub3QgZW5vdWdoIG1vbmV5IGluIHRoZSBzYyB0byBjb3ZlciB0aGlzIHdpbiB0eCcpCiAgICBmcmFtZV9kaWcgMTcKICAgIGV4dHJhY3QgMCAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIGR1cAogICAgZGlnIDIKICAgIGI+PQogICAgYXNzZXJ0IC8vIFRoZXJlIGlzIG5vdCBlbm91Z2ggbW9uZXkgaW4gdGhlIHNjIHRvIGNvdmVyIHRoaXMgd2luIHR4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjgxMgogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlLmJhbGFuY2UgPSBuZXcgVWludE4yNTYoZ2FtZS5iYWxhbmNlLm5hdGl2ZSAtIHdpbkFtb3VudCkKICAgIGRpZyAxCiAgICBiLQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgdW5jb3ZlciAyCiAgICBifAogICAgZnJhbWVfZGlnIDE2CiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBzd2FwCiAgICByZXBsYWNlMiAwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjgxNAogICAgLy8gdGhpcy5wbGF5cyhzZW5kZXIpLnZhbHVlLnN0YXRlID0gbmV3IFVpbnRONjQoMikgLy8gbWFyayB0aGUgc3RhdGUgb2YgdGhlIGdhbWUgMiAtIHdpbgogICAgZnJhbWVfZGlnIDEzCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBieXRlYyAxNCAvLyAweDAwMDAwMDAwMDAwMDAwMDIKICAgIHJlcGxhY2UyIDAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODE2LTgyMwogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICByZWNlaXZlcjogcGxheS5vd25lci5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBuZXcgVWludE42NCh3aW5BbW91bnQpLm5hdGl2ZSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICAvLyAgIC5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4MTgKICAgIC8vIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4MTkKICAgIC8vIHJlY2VpdmVyOiBwbGF5Lm93bmVyLm5hdGl2ZSwKICAgIGZyYW1lX2RpZyAxNAogICAgZXh0cmFjdCA5NiAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODIwCiAgICAvLyBhbW91bnQ6IG5ldyBVaW50TjY0KHdpbkFtb3VudCkubmF0aXZlLAogICAgZnJhbWVfZGlnIDExCiAgICBpbnRjXzMgLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgaW50Y18zIC8vIDgKICAgIGJ6ZXJvCiAgICB1bmNvdmVyIDMKICAgIGJ8CiAgICBidG9pCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgaXR4bl9maWVsZCBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODE2LTgyMgogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgc2VuZGVyOiBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcywKICAgIC8vICAgICByZWNlaXZlcjogcGxheS5vd25lci5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50OiBuZXcgVWludE42NCh3aW5BbW91bnQpLm5hdGl2ZSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzIgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4MjEKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4MTYtODIzCiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIHJlY2VpdmVyOiBwbGF5Lm93bmVyLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ6IG5ldyBVaW50TjY0KHdpbkFtb3VudCkubmF0aXZlLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAoKQ2xhaW1HYW1lX2FmdGVyX2lmX2Vsc2VAMTA6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjgyNgogICAgLy8gaWYgKGdhbWUuaXNBU0FUb2tlbi5uYXRpdmUpIHsKICAgIGZyYW1lX2RpZyAxNwogICAgaW50YyA1IC8vIDMyMQogICAgZ2V0Yml0CiAgICBieXRlY18wIC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgYnogQ2xhaW1HYW1lX2FmdGVyX2lmX2Vsc2VAMTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODI5CiAgICAvLyBsZXQgcHJldkRlcG9zaXQ6IFVpbnROMjU2ID0gbmV3IFVpbnROMjU2KDApCiAgICBieXRlY18xIC8vIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgZnJhbWVfYnVyeSA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjgzMAogICAgLy8gaWYgKHRoaXMuYWxsRGVwb3NpdHMoa2V5LmFzc2V0SWQpLmV4aXN0cykgewogICAgZnJhbWVfZGlnIDE1CiAgICBleHRyYWN0IDAgOCAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQzCiAgICAvLyBwdWJsaWMgYWxsRGVwb3NpdHMgPSBCb3hNYXA8VWludE42NCwgVWludE4yNTY+KHsga2V5UHJlZml4OiAnZCcgfSkKICAgIGJ5dGVjIDQgLy8gImQiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgZnJhbWVfYnVyeSA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjgzMAogICAgLy8gaWYgKHRoaXMuYWxsRGVwb3NpdHMoa2V5LmFzc2V0SWQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4MzEKICAgIC8vIHByZXZEZXBvc2l0ID0gdGhpcy5hbGxEZXBvc2l0cyhrZXkuYXNzZXRJZCkudmFsdWUKICAgIGZyYW1lX2RpZyA3CiAgICBib3hfZ2V0CiAgICBzd2FwCiAgICBmcmFtZV9idXJ5IDQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCgpDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUAxMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODMzCiAgICAvLyBhc3NlcnQocHJldkRlcG9zaXQubmF0aXZlID49IHdpbkFtb3VudCwgJ1RoZXJlIGlzIG5vdCBlbm91Z2ggbW9uZXkgaW4gdGhlIHNjIHRvIGNvdmVyIHRoaXMgd2luIHR4JykKICAgIGZyYW1lX2RpZyA0CiAgICBkdXAKICAgIGZyYW1lX2RpZyA5CiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGI+PQogICAgYXNzZXJ0IC8vIFRoZXJlIGlzIG5vdCBlbm91Z2ggbW9uZXkgaW4gdGhlIHNjIHRvIGNvdmVyIHRoaXMgd2luIHR4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjgzNAogICAgLy8gdGhpcy5hbGxEZXBvc2l0cyhrZXkuYXNzZXRJZCkudmFsdWUgPSBuZXcgVWludE4yNTYocHJldkRlcG9zaXQubmF0aXZlIC0gd2luQW1vdW50KQogICAgZGlnIDEKICAgIGItCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBmcmFtZV9kaWcgMQogICAgZHVwCiAgICBjb3ZlciAzCiAgICBifAogICAgZnJhbWVfZGlnIDcKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODM2CiAgICAvLyBhc3NlcnQoZ2FtZS5iYWxhbmNlLm5hdGl2ZSA+PSB3aW5BbW91bnQsICdUaGVyZSBpcyBub3QgZW5vdWdoIG1vbmV5IGluIHRoZSBzYyB0byBjb3ZlciB0aGlzIHdpbiB0eCcpCiAgICBmcmFtZV9kaWcgMTcKICAgIGR1cAogICAgY292ZXIgMwogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBkaWcgMgogICAgYj49CiAgICBhc3NlcnQgLy8gVGhlcmUgaXMgbm90IGVub3VnaCBtb25leSBpbiB0aGUgc2MgdG8gY292ZXIgdGhpcyB3aW4gdHgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODM3CiAgICAvLyB0aGlzLmdhbWVzKGtleSkudmFsdWUuYmFsYW5jZSA9IG5ldyBVaW50TjI1NihnYW1lLmJhbGFuY2UubmF0aXZlIC0gd2luQW1vdW50KQogICAgZGlnIDEKICAgIGItCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18xIC8vIDMyCiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICB1bmNvdmVyIDIKICAgIGJ8CiAgICBmcmFtZV9kaWcgMTYKICAgIGR1cAogICAgY292ZXIgMgogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIHN3YXAKICAgIHJlcGxhY2UyIDAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODM5CiAgICAvLyB0aGlzLnBsYXlzKHNlbmRlcikudmFsdWUuc3RhdGUgPSBuZXcgVWludE42NCgyKSAvLyBtYXJrIHRoZSBzdGF0ZSBvZiB0aGUgZ2FtZSAyIC0gd2luCiAgICBmcmFtZV9kaWcgMTMKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGJ5dGVjIDE0IC8vIDB4MDAwMDAwMDAwMDAwMDAwMgogICAgcmVwbGFjZTIgMAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NDEtODQ5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHBsYXkub3duZXIubmF0aXZlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXcgVWludE42NCh3aW5BbW91bnQpLm5hdGl2ZSwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODQzCiAgICAvLyBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODQ0CiAgICAvLyBhc3NldFJlY2VpdmVyOiBwbGF5Lm93bmVyLm5hdGl2ZSwKICAgIGZyYW1lX2RpZyAxNAogICAgZXh0cmFjdCA5NiAzMiAvLyBvbiBlcnJvcjogSW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODQ1CiAgICAvLyBhc3NldEFtb3VudDogbmV3IFVpbnRONjQod2luQW1vdW50KS5uYXRpdmUsCiAgICBmcmFtZV9kaWcgMTEKICAgIGludGNfMyAvLyA4CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBpbnRjXzMgLy8gOAogICAgYnplcm8KICAgIHVuY292ZXIgMwogICAgYnwKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODQ2CiAgICAvLyB4ZmVyQXNzZXQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICB1bmNvdmVyIDMKICAgIGludGNfMSAvLyAzMgogICAgZXh0cmFjdF91aW50NjQKICAgIGl0eG5fZmllbGQgWGZlckFzc2V0CiAgICBpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CiAgICBpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg0MS04NDgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFzc2V0VHJhbnNmZXIoewogICAgLy8gICAgIHNlbmRlcjogR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsCiAgICAvLyAgICAgYXNzZXRSZWNlaXZlcjogcGxheS5vd25lci5uYXRpdmUsCiAgICAvLyAgICAgYXNzZXRBbW91bnQ6IG5ldyBVaW50TjY0KHdpbkFtb3VudCkubmF0aXZlLAogICAgLy8gICAgIHhmZXJBc3NldDogZ2FtZS5hc3NldElkLm5hdGl2ZSwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDQgLy8gNAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NDcKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NDEtODQ5CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hc3NldFRyYW5zZmVyKHsKICAgIC8vICAgICBzZW5kZXI6IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLAogICAgLy8gICAgIGFzc2V0UmVjZWl2ZXI6IHBsYXkub3duZXIubmF0aXZlLAogICAgLy8gICAgIGFzc2V0QW1vdW50OiBuZXcgVWludE42NCh3aW5BbW91bnQpLm5hdGl2ZSwKICAgIC8vICAgICB4ZmVyQXNzZXQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CgpDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUAxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODUxCiAgICAvLyBpZiAoZ2FtZS5pc0FyYzIwMFRva2VuLm5hdGl2ZSkgewogICAgZnJhbWVfZGlnIDE3CiAgICBpbnRjIDYgLy8gMzIyCiAgICBnZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBieiBDbGFpbUdhbWVfYWZ0ZXJfaWZfZWxzZUAyMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NTIKICAgIC8vIGxldCBwcmV2RGVwb3NpdDogVWludE4yNTYgPSBuZXcgVWludE4yNTYoMCkKICAgIGJ5dGVjXzEgLy8gMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwCiAgICBmcmFtZV9idXJ5IDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODUzCiAgICAvLyBpZiAodGhpcy5hbGxEZXBvc2l0cyhrZXkuYXNzZXRJZCkuZXhpc3RzKSB7CiAgICBmcmFtZV9kaWcgMTUKICAgIGV4dHJhY3QgMCA4IC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czoxNDMKICAgIC8vIHB1YmxpYyBhbGxEZXBvc2l0cyA9IEJveE1hcDxVaW50TjY0LCBVaW50TjI1Nj4oeyBrZXlQcmVmaXg6ICdkJyB9KQogICAgYnl0ZWMgNCAvLyAiZCIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZHVwCiAgICBmcmFtZV9idXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODUzCiAgICAvLyBpZiAodGhpcy5hbGxEZXBvc2l0cyhrZXkuYXNzZXRJZCkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IENsYWltR2FtZV9hZnRlcl9pZl9lbHNlQDE4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg1NAogICAgLy8gcHJldkRlcG9zaXQgPSB0aGlzLmFsbERlcG9zaXRzKGtleS5hc3NldElkKS52YWx1ZQogICAgZnJhbWVfZGlnIDgKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGZyYW1lX2J1cnkgNQogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKCkNsYWltR2FtZV9hZnRlcl9pZl9lbHNlQDE4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NTYKICAgIC8vIGFzc2VydChwcmV2RGVwb3NpdC5uYXRpdmUgPj0gd2luQW1vdW50LCAnVGhlcmUgaXMgbm90IGVub3VnaCBtb25leSBpbiB0aGUgc2MgdG8gY292ZXIgdGhpcyB3aW4gdHgnKQogICAgZnJhbWVfZGlnIDUKICAgIGR1cAogICAgZnJhbWVfZGlnIDkKICAgIGR1cAogICAgY292ZXIgMwogICAgYj49CiAgICBhc3NlcnQgLy8gVGhlcmUgaXMgbm90IGVub3VnaCBtb25leSBpbiB0aGUgc2MgdG8gY292ZXIgdGhpcyB3aW4gdHgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODU3CiAgICAvLyB0aGlzLmFsbERlcG9zaXRzKGtleS5hc3NldElkKS52YWx1ZSA9IG5ldyBVaW50TjI1NihwcmV2RGVwb3NpdC5uYXRpdmUgLSB3aW5BbW91bnQpCiAgICBkaWcgMQogICAgYi0KICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGZyYW1lX2RpZyAxCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGJ8CiAgICBmcmFtZV9kaWcgOAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NTkKICAgIC8vIGFzc2VydChnYW1lLmJhbGFuY2UubmF0aXZlID49IHdpbkFtb3VudCwgJ1RoZXJlIGlzIG5vdCBlbm91Z2ggbW9uZXkgaW4gdGhlIHNjIHRvIGNvdmVyIHRoaXMgd2luIHR4JykKICAgIGZyYW1lX2RpZyAxNwogICAgZHVwCiAgICBjb3ZlciAzCiAgICBleHRyYWN0IDAgMzIgLy8gb24gZXJyb3I6IEluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGRpZyAyCiAgICBiPj0KICAgIGFzc2VydCAvLyBUaGVyZSBpcyBub3QgZW5vdWdoIG1vbmV5IGluIHRoZSBzYyB0byBjb3ZlciB0aGlzIHdpbiB0eAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NjAKICAgIC8vIHRoaXMuZ2FtZXMoa2V5KS52YWx1ZS5iYWxhbmNlID0gbmV3IFVpbnROMjU2KGdhbWUuYmFsYW5jZS5uYXRpdmUgLSB3aW5BbW91bnQpCiAgICBzd2FwCiAgICBiLQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAzMgogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgYnwKICAgIGZyYW1lX2RpZyAxNgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgc3dhcAogICAgcmVwbGFjZTIgMAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9zYXRvc2hpX2RpY2UvY29udHJhY3QuYWxnby50czo4NjIKICAgIC8vIHRoaXMucGxheXMoc2VuZGVyKS52YWx1ZS5zdGF0ZSA9IG5ldyBVaW50TjY0KDIpIC8vIG1hcmsgdGhlIHN0YXRlIG9mIHRoZSBnYW1lIDIgLSB3aW4KICAgIGZyYW1lX2RpZyAxMwogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgYnl0ZWMgMTQgLy8gMHgwMDAwMDAwMDAwMDAwMDAyCiAgICByZXBsYWNlMiAwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg2NS04NzEKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcGxheS5vd25lciwgbmV3IFVpbnROMjU2KHdpbkFtb3VudCldLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg2NwogICAgLy8gYXBwSWQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICBpbnRjXzEgLy8gMzIKICAgIGV4dHJhY3RfdWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg2OAogICAgLy8gYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcGxheS5vd25lciwgbmV3IFVpbnROMjU2KHdpbkFtb3VudCldLAogICAgZnJhbWVfZGlnIDE0CiAgICBleHRyYWN0IDk2IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYnl0ZWMgMTAgLy8gbWV0aG9kICJhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wiCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbkFyZ3MKICAgIGZyYW1lX2RpZyAwCiAgICBpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwogICAgaXR4bl9maWVsZCBBcHBsaWNhdGlvbklECiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg2NS04NzAKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcGxheS5vd25lciwgbmV3IFVpbnROMjU2KHdpbkFtb3VudCldLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIHB1c2hpbnQgNiAvLyA2CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg2OQogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg2NS04NzEKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwSWQ6IGdhbWUuYXNzZXRJZC5uYXRpdmUsCiAgICAvLyAgICAgYXBwQXJnczogW21ldGhvZFNlbGVjdG9yKCdhcmMyMDBfdHJhbnNmZXIoYWRkcmVzcyx1aW50MjU2KWJvb2wnKSwgcGxheS5vd25lciwgbmV3IFVpbnROMjU2KHdpbkFtb3VudCldLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAoKQ2xhaW1HYW1lX2FmdGVyX2lmX2Vsc2VAMjI6CiAgICByZXRzdWIKCkNsYWltR2FtZV9lbHNlX2JvZHlAMjE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg3NQogICAgLy8gdGhpcy5Mb29zZUdhbWUoa2V5LCBnYW1lLCBwbGF5LCBzZW5kZXIpCiAgICBmcmFtZV9kaWcgMTUKICAgIGZyYW1lX2RpZyAxNwogICAgZnJhbWVfZGlnIDE0CiAgICBmcmFtZV9kaWcgMTIKICAgIGNhbGxzdWIgTG9vc2VHYW1lCiAgICBwb3BuIDMKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6OkF2bVNhdG9zaGlEaWNlLkxvb3NlR2FtZShrZXk6IGJ5dGVzLCBnYW1lOiBieXRlcywgcGxheTogYnl0ZXMsIHNlbmRlcjogYnl0ZXMpIC0+IGJ5dGVzLCBieXRlcywgYnl0ZXM6Ckxvb3NlR2FtZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODc5CiAgICAvLyBwcml2YXRlIExvb3NlR2FtZShrZXk6IEFkZHJlc3NBc3NldFN0cnVjdCwgZ2FtZTogR2FtZVN0cnVjdCwgcGxheTogUGxheVN0cnVjdCwgc2VuZGVyOiBBZGRyZXNzKSB7CiAgICBwcm90byA0IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6ODgwCiAgICAvLyB0aGlzLmdhbWVzKGtleSkudmFsdWUuYmFsYW5jZSA9IG5ldyBVaW50TjI1NihnYW1lLmJhbGFuY2UubmF0aXZlICsgcGxheS5kZXBvc2l0Lm5hdGl2ZSkKICAgIGZyYW1lX2RpZyAtMwogICAgZXh0cmFjdCAwIDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZnJhbWVfZGlnIC0yCiAgICBleHRyYWN0IDI0IDMyIC8vIG9uIGVycm9yOiBJbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgYisKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMzIKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGludGNfMSAvLyAzMgogICAgYnplcm8KICAgIGJ8CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjE0MQogICAgLy8gcHVibGljIGdhbWVzID0gQm94TWFwPEFkZHJlc3NBc3NldFN0cnVjdCwgR2FtZVN0cnVjdD4oeyBrZXlQcmVmaXg6ICdnJyB9KQogICAgYnl0ZWNfMyAvLyAiZyIKICAgIGZyYW1lX2RpZyAtNAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg4MAogICAgLy8gdGhpcy5nYW1lcyhrZXkpLnZhbHVlLmJhbGFuY2UgPSBuZXcgVWludE4yNTYoZ2FtZS5iYWxhbmNlLm5hdGl2ZSArIHBsYXkuZGVwb3NpdC5uYXRpdmUpCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICB1bmNvdmVyIDIKICAgIHJlcGxhY2UyIDAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fc2F0b3NoaV9kaWNlL2NvbnRyYWN0LmFsZ28udHM6MTQyCiAgICAvLyBwdWJsaWMgcGxheXMgPSBCb3hNYXA8QWRkcmVzcywgUGxheVN0cnVjdD4oeyBrZXlQcmVmaXg6ICdwJyB9KQogICAgYnl0ZWMgNiAvLyAicCIKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX3NhdG9zaGlfZGljZS9jb250cmFjdC5hbGdvLnRzOjg4MQogICAgLy8gdGhpcy5wbGF5cyhzZW5kZXIpLnZhbHVlLnN0YXRlID0gbmV3IFVpbnRONjQoMykgLy8gbWFyayB0aGUgc3RhdGUgb2YgdGhlIGdhbWUgMyAtIGxvb3NlCiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBwdXNoYnl0ZXMgMHgwMDAwMDAwMDAwMDAwMDAzCiAgICByZXBsYWNlMiAwCiAgICBib3hfcHV0CiAgICBmcmFtZV9kaWcgLTQKICAgIGZyYW1lX2RpZyAtMwogICAgZnJhbWVfZGlnIC0yCiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEwCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 1,
            "num_uints": 0
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "version": {
                    "type": "bytes",
                    "key": "scver",
                    "descr": "Version of the smart contract"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "AvmSatoshiDice",
        "methods": [
            {
                "name": "updateApplication",
                "args": [
                    {
                        "type": "string",
                        "name": "newVersion"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "bool"
                },
                "desc": "addressUdpater from global biatec configuration is allowed to update application"
            },
            {
                "name": "sendOnlineKeyRegistration",
                "args": [
                    {
                        "type": "byte[]",
                        "name": "voteKey"
                    },
                    {
                        "type": "byte[]",
                        "name": "selectionKey"
                    },
                    {
                        "type": "byte[]",
                        "name": "stateProofKey"
                    },
                    {
                        "type": "uint64",
                        "name": "voteFirst"
                    },
                    {
                        "type": "uint64",
                        "name": "voteLast"
                    },
                    {
                        "type": "uint64",
                        "name": "voteKeyDilution"
                    },
                    {
                        "type": "uint64",
                        "name": "fee"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "byte[]"
                },
                "desc": "Creator can perfom key registration for this LP pool"
            },
            {
                "name": "withdraw",
                "args": [
                    {
                        "type": "address",
                        "name": "receiver",
                        "desc": "Receiver"
                    },
                    {
                        "type": "uint256",
                        "name": "amount",
                        "desc": "Amout to send"
                    },
                    {
                        "type": "uint64",
                        "name": "assetId"
                    },
                    {
                        "type": "bool",
                        "name": "isArc200Token"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Biatec can withdraw service fees. The current balance"
            },
            {
                "name": "CreateGameWithNativeToken",
                "args": [
                    {
                        "type": "pay",
                        "name": "txnDeposit",
                        "desc": "Deposit transaction"
                    },
                    {
                        "type": "uint64",
                        "name": "winRatio",
                        "desc": "Win ratio.. 1_000_000 for user probability, 200_000 for 0.2 factor of the user probability, 0 for no win"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Create new game or deposit by the owner more assets to the game."
            },
            {
                "name": "OptInToASA",
                "args": [
                    {
                        "type": "pay",
                        "name": "txnDeposit",
                        "desc": "Deposit tx"
                    },
                    {
                        "type": "uint64",
                        "name": "assetId",
                        "desc": "Assset id"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Anyone can optin this contract to his ASA if he deposits 10 native tokens"
            },
            {
                "name": "CreateGameWithASAToken",
                "args": [
                    {
                        "type": "axfer",
                        "name": "txnDeposit",
                        "desc": "Deposit transaction"
                    },
                    {
                        "type": "uint64",
                        "name": "winRatio",
                        "desc": "Win ratio.. 1_000_000 for user probability, 200_000 for 0.2 factor of the user probability, 0 for no win"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Create new game or deposit by the owner more assets to the game."
            },
            {
                "name": "CreateGameWithArc200Token",
                "args": [
                    {
                        "type": "uint64",
                        "name": "assetId"
                    },
                    {
                        "type": "uint256",
                        "name": "amount"
                    },
                    {
                        "type": "uint64",
                        "name": "winRatio",
                        "desc": "Win ratio.. 1_000_000 for user probability, 200_000 for 0.2 factor of the user probability, 0 for no win"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Create new game or deposit by the owner more assets to the game."
            },
            {
                "name": "StartGameWithNativeToken",
                "args": [
                    {
                        "type": "pay",
                        "name": "txnDeposit",
                        "desc": "Deposit"
                    },
                    {
                        "type": "(uint64,address)",
                        "name": "game",
                        "desc": "The"
                    },
                    {
                        "type": "uint64",
                        "name": "winProbability",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Starts new game play\n\nPlayer selects win probability and the data is stored to the player's box storage."
            },
            {
                "name": "StartGameWithASAToken",
                "args": [
                    {
                        "type": "axfer",
                        "name": "txnDeposit",
                        "desc": "Deposit"
                    },
                    {
                        "type": "(uint64,address)",
                        "name": "game",
                        "desc": "The"
                    },
                    {
                        "type": "uint64",
                        "name": "winProbability",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Starts new game play\n\nPlayer selects win probability and the data is stored to the player's box storage."
            },
            {
                "name": "StartGameWithArc200Token",
                "args": [
                    {
                        "type": "uint256",
                        "name": "amount"
                    },
                    {
                        "type": "uint64",
                        "name": "assetId"
                    },
                    {
                        "type": "(uint64,address)",
                        "name": "game",
                        "desc": "The"
                    },
                    {
                        "type": "uint64",
                        "name": "winProbability",
                        "desc": ""
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Starts new game play\n\nPlayer selects win probability and the data is stored to the player's box storage."
            },
            {
                "name": "Game",
                "args": [
                    {
                        "type": "address",
                        "name": "creator"
                    },
                    {
                        "type": "uint64",
                        "name": "assetId"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint256,uint64,bool,bool,bool,uint64,uint64,uint256,uint64,uint256,uint64,address)",
                    "desc": "the current game"
                },
                "desc": "Returns the current state of the game"
            },
            {
                "name": "MyGame",
                "args": [],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64,uint64,uint256,uint64,address,address)",
                    "desc": "the current player game"
                },
                "desc": "Returns the active user box"
            },
            {
                "name": "ClaimGame",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Claim the game.\n\nIf user won, he receives the assets\n\nIf user lost, the game is funded with more balance"
            }
        ],
        "networks": {}
    },
    "bare_call_config": {
        "no_op": "CREATE"
    }
}